{"ast":null,"code":"import _initializerDefineProperty from \"C:\\\\Users\\\\Admin\\\\Documents\\\\Crane\\\\Capstone-Crane\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Admin\\\\Documents\\\\Crane\\\\Capstone-Crane\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Admin\\\\Documents\\\\Crane\\\\Capstone-Crane\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _applyDecoratedDescriptor from \"C:\\\\Users\\\\Admin\\\\Documents\\\\Crane\\\\Capstone-Crane\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"C:\\\\Users\\\\Admin\\\\Documents\\\\Crane\\\\Capstone-Crane\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _temp;\n\nimport { action, observable } from 'mobx';\nimport { MS_FRAME_SCALE } from './GameState';\nvar Camera = (_class = (_temp = /*#__PURE__*/function () {\n  function Camera(props) {\n    _classCallCheck(this, Camera);\n\n    _initializerDefineProperty(this, \"position\", _descriptor, this);\n\n    this.locked = false;\n    this.followWidth = 370;\n    this.screenRightEdge = 610;\n    this.screenLeftEdge = 20;\n    this.gameState = props.gameState;\n  }\n\n  _createClass(Camera, [{\n    key: \"step\",\n    value: function step(deltaTime) {\n      var _this = this;\n\n      this.gameState.players.forEach(function (player) {\n        if (player.position.x > _this.position.x + _this.followWidth && !_this.locked) {\n          // Move rightwards with the player, so they don't get further away\n          _this.position.x += Math.max(0, player.velocity.x * deltaTime * MS_FRAME_SCALE);\n        }\n      });\n      this.position.x = Math.min(this.gameState.level.maxCamPosition, this.position.x);\n    }\n  }, {\n    key: \"lock\",\n    value: function lock() {\n      this.locked = true;\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      this.locked = false;\n    }\n  }]);\n\n  return Camera;\n}(), _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"position\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"step\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"step\"), _class.prototype)), _class);\nexport default Camera;","map":{"version":3,"sources":["C:/Users/Admin/Documents/Crane/Capstone-Crane/src/state/Camera.js"],"names":["action","observable","MS_FRAME_SCALE","Camera","props","locked","followWidth","screenRightEdge","screenLeftEdge","gameState","deltaTime","players","forEach","player","position","x","Math","max","velocity","min","level","maxCamPosition","y","z"],"mappings":";;;;;;;;AAAA,SAASA,MAAT,EAAiBC,UAAjB,QAAmC,MAAnC;AACA,SAASC,cAAT,QAA+B,aAA/B;IAEMC,M;AAcJ,kBAAaC,KAAb,EAAqB;AAAA;;AAAA;;AAAA,SALrBC,MAKqB,GALZ,KAKY;AAAA,SAJrBC,WAIqB,GAJP,GAIO;AAAA,SAHrBC,eAGqB,GAHH,GAGG;AAAA,SAFrBC,cAEqB,GAFJ,EAEI;AACnB,SAAKC,SAAL,GAAiBL,KAAK,CAACK,SAAvB;AACD;;;;yBAGKC,S,EAAY;AAAA;;AAChB,WAAKD,SAAL,CAAeE,OAAf,CAAuBC,OAAvB,CAAgC,UAAAC,MAAM,EAAI;AACxC,YAAKA,MAAM,CAACC,QAAP,CAAgBC,CAAhB,GAAoB,KAAI,CAACD,QAAL,CAAcC,CAAd,GAAkB,KAAI,CAACT,WAA3C,IAA0D,CAAC,KAAI,CAACD,MAArE,EAA8E;AAC5E;AACA,UAAA,KAAI,CAACS,QAAL,CAAcC,CAAd,IAAmBC,IAAI,CAACC,GAAL,CAAU,CAAV,EAAaJ,MAAM,CAACK,QAAP,CAAgBH,CAAhB,GAAoBL,SAApB,GAAgCR,cAA7C,CAAnB;AACD;AACF,OALD;AAOA,WAAKY,QAAL,CAAcC,CAAd,GAAkBC,IAAI,CAACG,GAAL,CAAU,KAAKV,SAAL,CAAeW,KAAf,CAAqBC,cAA/B,EAA+C,KAAKP,QAAL,CAAcC,CAA7D,CAAlB;AACD;;;2BAEM;AACL,WAAKV,MAAL,GAAc,IAAd;AACD;;;6BAEQ;AACP,WAAKA,MAAL,GAAc,KAAd;AACD;;;;qFAlCAJ,U;;;;;WACU;AACTc,MAAAA,CAAC,EAAE,CADM;AAETO,MAAAA,CAAC,EAAE,CAFM;AAGTC,MAAAA,CAAC,EAAE;AAHM,K;;yDAeVvB,M;AAqBH,eAAeG,MAAf","sourcesContent":["import { action, observable } from 'mobx'\r\nimport { MS_FRAME_SCALE } from './GameState'\r\n\r\nclass Camera {\r\n\r\n  @observable\r\n  position = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n  }\r\n\r\n  locked = false\r\n  followWidth = 370\r\n  screenRightEdge = 610\r\n  screenLeftEdge = 20\r\n\r\n  constructor( props ) {\r\n    this.gameState = props.gameState\r\n  }\r\n\r\n  @action\r\n  step( deltaTime ) {\r\n    this.gameState.players.forEach( player => {\r\n      if ( player.position.x > this.position.x + this.followWidth && !this.locked ) {\r\n        // Move rightwards with the player, so they don't get further away\r\n        this.position.x += Math.max( 0, player.velocity.x * deltaTime * MS_FRAME_SCALE )\r\n      }\r\n    })\r\n\r\n    this.position.x = Math.min( this.gameState.level.maxCamPosition, this.position.x )\r\n  }\r\n\r\n  lock() {\r\n    this.locked = true\r\n  }\r\n\r\n  unlock() {\r\n    this.locked = false\r\n  }\r\n}\r\n\r\nexport default Camera"]},"metadata":{},"sourceType":"module"}