{"version":3,"sources":["shared/keyboardControls.js","shared/enum/directions.js","components/GameObjectRenderer.js","components/PlayerRenderer.js","components/LevelRenderer.js","components/PlayerHUD.js","components/HUD.js","shared/enum/GameObjectTypes.js","components/GameRenderer.js","components/TitleScreen.js","shared/enum/PlayerTypes.js","components/PlayerSelectScreen.js","state/GameObject.js","state/GameCharacter.js","state/Player.js","state/SelinaPlayer.js","state/GraysonPlayer.js","state/EnemySpawner.js","state/DoorSpawner.js","state/Blood.js","shared/utils.js","state/Head.js","state/FootEnemy.js","state/LeapEnemy.js","state/ThrowerEnemy.js","state/Projectile.js","state/KnifeProjectile.js","state/KnifeThrowerEnemy.js","state/ElevatorSpawner.js","state/BigknifeProjectile.js","state/BigknifeEnemy.js","state/Level.js","state/Camera.js","shared/history.js","state/GameState.js","state/PlayerSelection.js","state/RootStore.js","components/Memeapi.js","App.js","serviceWorker.js","index.js"],"names":["keyboardControls","left","right","up","down","jump","attack","directions","GameObjectRenderer","observer","_this$props$gameObjec","this","props","gameObject","_this$props$gameObjec2","position","x","y","z","_this$props$gameObjec3","spritePosition","spriteX","spriteY","direction","spriteUrl","screenWidth","screenHeight","spriteWidth","spriteHeight","spriteScale","onGround","isForeground","hasShadow","directionScale","zIndex","Math","floor","MAX_SCENE_ZINDEX","max","backgroundPosition","concat","backgroundImage","backgroundSize","transform","spriteTransform","react_default","a","createElement","className","style","width","height","display","React","Component","PlayerRenderer","onKeyDown","e","controls","_this","playerNumber","keyCode","onLeft","preventDefault","onRight","onUp","onDown","onJump","onAttack","onKeyUp","offLeft","offRight","offUp","offDown","document","addEventListener","removeEventListener","LevelRenderer","backgroundUrl","level","camera","src","alt","children","PlayerHUD","_this$props$player","player","name","courage","kills","Object","toConsumableArray","Array","min","map","_","i","key","HUD","players","src_components_PlayerHUD","id","GameObjectTypes","GameObject","Player","Enemy","GameRenderer","inject","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","gameState","beginGame","stopGameLoop","_this$props$gameState","gameObjects","src_components_LevelRenderer","RendererType","type","src_components_HUD","TitleScreen","state","selectedOption","onSelectOnePlayer","selectNumberOfPlayers","count","_this2","setState","playerSelection","setNumberOfPlayers","nextScreenTimeout","setTimeout","history","push","clearTimeout","classnames","selected","onClick","Link","to","withRouter","PlayerTypes","selina","grayson","NEXT_DELAY","PlayerSelectScreen","currentlySelectingFor","canSelect","selectPlayerType","playerType","selectPlayer","hasSelectedAllPlayers","nextTimeout","gotoGame","beginSelectingNextPlayer","_this$state","selectedPlayerTypes","values","arguments","length","undefined","uuid","v4","movementFreezes","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","animationState","trackName","startTime","_descriptor14","removeFromGame","removeGameObject","objectSpread","deltaTime","inFreefall","stepFreefall","isMovementFrozen","isDead","stepMovement","stepAnimation","velocity","isAffectedByGravity","MS_FRAME_SCALE","onReturnToGround","integrateVelocity","freefall","damage","getGameObjectsInsideBox","getBoundingBox","forEach","canTakeDamage","takeDamage","_this$animationState","currentFrame","_this$animationTracks","animationTracks","duration","frames","loopStartFrame","introDuration","now","performance","reason","some","frozenUntilTime","collisionWidth","collisionBottom","collisionHeight","collisionDepth","observable","action","computed","DAMAGE_RANGE_NEAR_X","DAMAGE_RANGE_FAR_X","DAMAGE_RANGE_Z","GameCharacter","GameCharacter_descriptor","assertThisInitialized","GameCharacter_descriptor2","GameCharacter_descriptor3","getAttackBox","minX","maxX","GameCharacter_descriptor4","onDie","animation","damageDelay","attacking","setAnimation","freezeMovement","attackDamageTimeout","doAttackDamage","fromDirection","fromGameCharacter","isCurrentlyTakingDamage","damageDealt","clearMovementFreezes","setFreefall","die","esm_get","prototype","attackBox","keyState","attackCount","commonAnimationTracks","standing","walking","in_air","take_damage","jump_kick","dead","dead_ground","Player_descriptor","Player_descriptor2","Player_descriptor3","Player_descriptor4","Player_descriptor5","Player_descriptor6","Player_descriptor7","Player_descriptor8","updateMovementAnimation","k","minZ","maxZ","screenLeftEdge","screenRightEdge","attackAnimation","jumpKick","SelinaPlayer","attack1","attack2","GraysonPlayer","EnemySpawner","triggered","enemiesKilled","addEnemies","enemies","enemy","addEnemy","delay","respawnEvery","playersStillCloseEnoughToRespawn","addGameObject","enemyType","onEnemyKilled","locksCamera","unlock","triggerX","trigger","lock","every","DoorSpawner","DoorSpawner_descriptor","default","broken","DoorSpawner_descriptor2","DoorSpawner_descriptor3","DoorSpawner_descriptor4","Blood","Blood_descriptor","Blood_descriptor2","Blood_descriptor3","Blood_descriptor4","Blood_descriptor5","Blood_descriptor6","randomBetween","random","X_FALLING_VEL","Z_FALLING_VEL","VEL_SPREAD","Head","Head_descriptor","Head_descriptor2","Head_descriptor3","Head_descriptor4","Head_descriptor5","Head_descriptor6","Head_descriptor7","Head_descriptor8","xVel","zVel","FootEnemy","explode","FootEnemy_descriptor","FootEnemy_descriptor2","FootEnemy_descriptor3","FootEnemy_descriptor4","FootEnemy_descriptor5","FootEnemy_descriptor6","FootEnemy_descriptor7","FootEnemy_descriptor8","longRangeAttackChance","longRangeAttackTimeout","jumpKickVelocity","shortAttackRange","longAttackRange","distToMe","_this$position","pow","FootEnemy_descriptor9","lastLongRangeAttackConsideredAt","playersByDistanceSquared","sortBy","filter","p","targetedPlayer","target","getTargetPosition","abs","xDistance","xDistanceToTarget","updateTargetedPlayer","moveTowardsTargetedPlayer","shouldDoShortRangeAttack","doShortRangeAttack","shouldDoLongRangeAttack","doLongRangeAttack","LeapEnemy","ThrowerEnemy","throwTimeout","throwProjectile","fromGamePlayer","xOffset","rightThrowOffset","leftThrowOffset","projectileType","throwHeight","parentEnemy","Projectile","Projectile_descriptor","Projectile_descriptor2","lifetime","speed","lifetimeTimeout","KnifeProjectile","KnifeThrowerEnemy","throw","ElevatorSpawner","ElevatorSpawner_descriptor","ElevatorSpawner_descriptor2","ElevatorSpawner_descriptor3","ElevatorSpawner_descriptor4","BigknifeProjectile","BigknifeEnemy","Level","maxCamPosition","startingGameObjects","objectType","Camera","Camera_descriptor","locked","followWidth","createMemoryHistory","PlayerTypesToClass","_PlayerTypesToClass","defineProperty","GameState","GameState_descriptor","gameObjectsToRemove","stepGameLoop","bind","PlayerType","GameObjectType","RootStore","addPlayer","objectDef","objectWithoutProperties","startGameLoop","lastStepTime","cancelAnimationFrame","_gameLoopRAF","step","isGameOver","onGameOver","cleanupRemovedGameObjects","requestAnimationFrame","index","findIndex","splice","gameOverTimer","box","g","PlayerSelection","playerCount","Memeapi","randomImg","allMemeImgs","handleChange","handleSubmit","fetch","then","response","json","memes","data","event","_event$target","value","randNum","randMemeImg","url","App","index_module","BrowserRouter","Switch","Route","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fa69590a.chunk.js","sourcesContent":["export default [\r\n  { /* WASD keys, spacebar jump, enter attack */\r\n    left: 65,\r\n    right: 68,\r\n    up: 87,\r\n    down: 83,\r\n    jump: 32,\r\n    attack: 13,\r\n  },\r\n  { /* Arrow keys */\r\n    left: 37,\r\n    right: 39,\r\n    up: 38,\r\n    down: 40,\r\n    jump: 18,\r\n    attack: 191,\r\n  },\r\n]","export default {\r\n  left: 'left',\r\n  right: 'right',\r\n}","import React from 'react'\r\nimport './GameObjectRenderer.scss'\r\nimport { observer } from 'mobx-react'\r\nimport directions from '../shared/enum/directions'\r\n\r\nconst MAX_SCENE_ZINDEX = 9999\r\n\r\n@observer\r\nclass GameObjectRenderer extends React.Component {\r\n\r\n  render() {\r\n    const {\r\n      position: {\r\n        x,\r\n        y,\r\n        z\r\n      },\r\n      spritePosition: {\r\n        x: spriteX,\r\n        y: spriteY,\r\n      },\r\n      direction,\r\n      spriteUrl,\r\n      screenWidth,\r\n      screenHeight,\r\n      spriteWidth,\r\n      spriteHeight,\r\n      spriteScale,\r\n      onGround,\r\n      isForeground,\r\n      hasShadow\r\n    } = this.props.gameObject\r\n\r\n    const directionScale = direction === directions.left ? -1 : 1\r\n    \r\n    const zIndex = Math.floor(isForeground ? MAX_SCENE_ZINDEX + 1 : MAX_SCENE_ZINDEX - Math.max( 0, z ))\r\n    const backgroundPosition = `${ -spriteX }px ${ -spriteY }px`\r\n    const backgroundImage = `url(${ spriteUrl })`\r\n    const backgroundSize = `${ spriteScale }`\r\n\r\n    const transform = `translate3d(${ x }px, ${ -z }px, 0)`\r\n\r\n    const spriteTransform = `translate3d(0, ${ -y }px, 0) scaleX(${ directionScale })`\r\n\r\n    if ( !spriteUrl ) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className='game-object-renderer'\r\n        style={{\r\n          zIndex,\r\n          transform,\r\n          width: `${ screenWidth }px`,\r\n          height: `${ screenHeight }px`,\r\n        }}\r\n      >\r\n        {hasShadow && (\r\n          <div\r\n            className='game-object-shadow'\r\n            style={{\r\n              display: onGround ? 'none' : 'block',\r\n            }}\r\n          />\r\n        )}\r\n        <div\r\n          className='sprite'\r\n          style={{\r\n            transform: spriteTransform,\r\n            backgroundPosition,\r\n            backgroundImage,\r\n            backgroundSize,\r\n            width: `${ spriteWidth }px`,\r\n            height: `${ spriteHeight }px`,\r\n            left: direction === directions.right ? 0 : 'auto',\r\n            right: direction === directions.left ? 0 : 'auto'\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GameObjectRenderer","import { observer } from 'mobx-react'\r\nimport keyboardControls from '../shared/keyboardControls'\r\nimport GameObjectRenderer from './GameObjectRenderer'\r\n\r\n@observer\r\nclass PlayerRenderer extends GameObjectRenderer {\r\n\r\n  componentDidMount() {\r\n    document.addEventListener( 'keydown', this.onKeyDown )\r\n    document.addEventListener( 'keyup', this.onKeyUp )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener( 'keydown', this.onKeyDown )\r\n    document.removeEventListener( 'keyup', this.onKeyUp )\r\n  }\r\n\r\n  onKeyDown = ( e ) => {\r\n    const controls = keyboardControls[ this.props.gameObject.playerNumber ]\r\n    \r\n    switch( e.keyCode ) {\r\n      case controls.left:\r\n        this.props.gameObject.onLeft()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.right:\r\n        this.props.gameObject.onRight()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.up:\r\n        this.props.gameObject.onUp()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.down:\r\n        this.props.gameObject.onDown()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.jump:\r\n        this.props.gameObject.onJump()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.attack:\r\n        this.props.gameObject.onAttack()\r\n        e.preventDefault()\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  onKeyUp = ( e ) => {\r\n    const controls = keyboardControls[ this.props.gameObject.playerNumber ]\r\n\r\n    switch( e.keyCode ) {\r\n      case controls.left:\r\n        this.props.gameObject.offLeft()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.right:\r\n        this.props.gameObject.offRight()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.up:\r\n        this.props.gameObject.offUp()\r\n        e.preventDefault()\r\n        break\r\n\r\n      case controls.down:\r\n        this.props.gameObject.offDown()\r\n        e.preventDefault()\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlayerRenderer","import React from 'react'\r\nimport './LevelRenderer.scss'\r\nimport { observer } from 'mobx-react'\r\n\r\n@observer\r\nclass LevelRenderer extends React.Component {\r\n\r\n\r\n  render() {\r\n    const {\r\n      backgroundUrl\r\n    } = this.props.level\r\n\r\n    const { camera } = this.props\r\n\r\n    return (\r\n      <div\r\n        className='level-renderer'\r\n        style={{\r\n          transform: `translate3d(${ -camera.position.x }px, 0, 0)`\r\n        }}\r\n      >\r\n        <img\r\n          className='level-background'\r\n          src={ backgroundUrl }\r\n          alt=''\r\n        />\r\n        <div className='level-game-objects'>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LevelRenderer","import React from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport './PlayerHUD.scss'\r\n\r\nconst MAX_DISPLAY_Courage = 12\r\n\r\n@observer\r\nclass PlayerHUD extends React.Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      courage,\r\n      kills\r\n    } = this.props.player\r\n\r\n    return (\r\n      <div className='player-hud'>\r\n        <div className='name'>{name}</div>\r\n        <div className='kills'>{kills}</div>\r\n        <div className='courage-bar'>\r\n          {[...Array( Math.min( courage, MAX_DISPLAY_Courage ))].map((_, i) => (\r\n            <div className='courage' key={i}/>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlayerHUD","import React from 'react'\r\nimport './HUD.scss'\r\nimport PlayerHUD from './PlayerHUD'\r\n\r\nclass HUD extends React.Component {\r\n  render() {\r\n    const { players } = this.props\r\n    return (\r\n      <div className='hud'>\r\n        { players.map( player => <PlayerHUD key={player.id} player={player} />)}\r\n        <img\r\n          className='logo'\r\n          src='/assets/images/ui/hud_logo.png'\r\n          alt='logo'\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HUD","export default {\r\n  GameObject: 'GameObject',\r\n  Player: 'Player',\r\n  Enemy: 'Enemy'\r\n}","import React from 'react'\r\nimport './GameRenderer.css'\r\nimport { inject, observer } from 'mobx-react'\r\nimport PlayerRenderer from './PlayerRenderer'\r\nimport GameObjectRenderer from './GameObjectRenderer'\r\nimport LevelRenderer from './LevelRenderer'\r\nimport HUD from './HUD'\r\nimport GameObjectTypes from '../shared/enum/GameObjectTypes'\r\n\r\n\r\n@inject( 'gameState' )\r\n@observer\r\nclass GameRenderer extends React.Component {\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.props.gameState.beginGame()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.gameState.stopGameLoop()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      gameObjects,\r\n      level,\r\n      camera\r\n    } = this.props.gameState\r\n\r\n    return (\r\n      <div className='GameRenderer'>\r\n        \r\n        <LevelRenderer level={level} camera={camera}>\r\n          {gameObjects.map(( gameObject ) => {\r\n            const RendererType = gameObject.type === GameObjectTypes.Player ? PlayerRenderer : GameObjectRenderer\r\n\r\n            return (\r\n              <RendererType\r\n                key={gameObject.id}\r\n                gameObject={gameObject}\r\n              />\r\n            )\r\n          })}\r\n        </LevelRenderer>\r\n        <HUD players={this.props.gameState.players} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GameRenderer","import React from 'react'\r\nimport { withRouter} from 'react-router-dom'\r\nimport './TitleScreen.scss'\r\nimport { inject } from 'mobx-react'\r\nimport classnames from 'classnames'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst NEXT_SCREEN_DELAY = 1500\r\n\r\n@inject( 'playerSelection' )\r\nclass TitleScreen extends React.Component {\r\n\r\n  state = {\r\n    selectedOption: null,\r\n  }\r\n\r\n  onSelectOnePlayer = () => this.selectNumberOfPlayers( 1 )\r\n\r\n  selectNumberOfPlayers( count ) {\r\n    this.setState({ selectedOption: count })\r\n    this.props.playerSelection.setNumberOfPlayers( count )\r\n    this.nextScreenTimeout = setTimeout(() => {\r\n      this.props.history.push('/player_select')  \r\n    }, NEXT_SCREEN_DELAY )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout( this.nextScreenTimeout )\r\n  }\r\n\r\n  render() {\r\n    const { selectedOption } = this.state\r\n\r\n    return (\r\n      <div className='TitleScreen'>\r\n        <img\r\n          src='/assets/images/ui/title_screen.png'\r\n          className='title-image'\r\n          alt=''\r\n        />\r\n        <div className='start-button-container'>\r\n          <div\r\n            className={classnames('start-button', {selected: selectedOption === 1})}\r\n            onClick={this.onSelectOnePlayer}\r\n          >\r\n            <div className='indicator' />\r\n            <span>Start!</span>\r\n          </div>\r\n\r\n              <Link to=\"/memeapi\">\r\n                  <span>Why so serious?</span>\r\n                </Link>\r\n\r\n        <div className='instructions'>\r\n\r\n          <span className='hover-hint'>Controls</span>\r\n          <div className='instructions-text'>\r\n            WASD to Move, Enter to Attack, Space to Jump<br/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter( TitleScreen )","export default {\r\n  selina: 'selina',\r\n  grayson: 'grayson',\r\n}","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport './PlayerSelectScreen.scss'\r\nimport { inject, observer } from 'mobx-react'\r\nimport classnames from 'classnames'\r\nimport PlayerTypes from '../shared/enum/PlayerTypes'\r\n\r\nconst NEXT_DELAY = 2200\r\n\r\n@inject( 'playerSelection' )\r\n@observer\r\nclass PlayerSelectScreen extends React.Component {\r\n\r\n  state = {\r\n    currentlySelectingFor: 0,\r\n    canSelect: true,\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout( this.nextTimeout )\r\n  }\r\n\r\n  selectPlayerType = playerType => {\r\n    this.props.playerSelection.selectPlayer( playerType )\r\n    this.setState({ canSelect: false })\r\n\r\n    const { hasSelectedAllPlayers } = this.props.playerSelection\r\n\r\n    this.nextTimeout = setTimeout(\r\n      hasSelectedAllPlayers ? this.gotoGame : this.beginSelectingNextPlayer,\r\n      NEXT_DELAY\r\n    )\r\n  }\r\n\r\n  gotoGame = () => {\r\n    this.props.history.push('/game')\r\n  }\r\n\r\n  beginSelectingNextPlayer = () => {\r\n    this.setState({\r\n      canSelect: true,\r\n      currentlySelectingFor: this.state.currentlySelectingFor + 1\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currentlySelectingFor,\r\n      canSelect,\r\n    } = this.state\r\n\r\n    const { selectedPlayerTypes } = this.props.playerSelection\r\n    \r\n    return (\r\n      <div className={classnames('PlayerSelectScreen', { canSelect })}>\r\n        <div className='instructions'>Selina or Grayson</div>\r\n\r\n        <div className='player-types'>\r\n          {Object.values( PlayerTypes ).map( playerType => {\r\n            const selected = selectedPlayerTypes[ currentlySelectingFor ] === playerType\r\n\r\n            return (\r\n              <div\r\n                className={classnames('player-type', { selected })}\r\n                onClick={() => this.selectPlayerType( playerType )}\r\n                key={playerType}\r\n              >\r\n                <img\r\n                  className='player-image'\r\n                  src={`/assets/images/ui/${ playerType }_player_select.png`}\r\n                  alt={playerType}\r\n                />\r\n                <img\r\n                  className='indicator'\r\n                  src={`/assets/images/ui/select_indicator_${ currentlySelectingFor }.png`}\r\n                  alt=''\r\n                />\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter( PlayerSelectScreen )","import { observable, action, computed } from 'mobx'\r\nimport GameObjectTypes from '../shared/enum/GameObjectTypes'\r\nimport directions from '../shared/enum/directions'\r\nimport uuid from 'uuid'\r\nimport { MS_FRAME_SCALE } from './GameState'\r\n\r\nconst GRAVITY = 0.6\r\n\r\nclass GameObject {\r\n\r\n  type = GameObjectTypes.GameObject\r\n  id = uuid.v4()\r\n  movementFreezes = {}\r\n\r\n  @observable\r\n  position = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0,\r\n  }\r\n\r\n  @observable\r\n  velocity = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0,\r\n  }\r\n\r\n  @observable\r\n  freefall = null\r\n\r\n  @observable\r\n  spritePosition = {\r\n    x: 0,\r\n    y: 0\r\n  }\r\n\r\n  @observable\r\n  spriteUrl = ''\r\n\r\n  @observable\r\n  spriteScale = 0\r\n\r\n  @observable\r\n  spriteWidth = 0 \r\n\r\n  @observable\r\n  spriteHeight = 0  \r\n\r\n  @observable\r\n  screenWidth = 0\r\n\r\n  @observable\r\n  screenHeight = 0\r\n\r\n  @observable\r\n  isForeground = false\r\n\r\n  @observable\r\n  isAffectedByGravity = true\r\n\r\n  @observable\r\n  hasShadow = true\r\n\r\n  animationState = {\r\n    trackName: null,\r\n    startTime: 0,\r\n  };\r\n\r\n  @observable\r\n  direction = directions.right\r\n\r\n  constructor( props = {} ) {\r\n    if ( props.position ) {\r\n      this.position = { ...props.position }\r\n    }\r\n    this.level = props.level\r\n    this.camera = props.camera\r\n    this.gameState = props.gameState\r\n  }\r\n\r\n  @action\r\n  step( deltaTime ) {\r\n    if ( this.inFreefall() ) {\r\n      this.stepFreefall( deltaTime )\r\n    }\r\n    else if ( !this.isMovementFrozen() && !this.isDead ) {\r\n      this.stepMovement( deltaTime )\r\n    }\r\n    this.stepAnimation()\r\n  }\r\n\r\n  @action\r\n  integrateVelocity( velocity, deltaTime ) {\r\n    //Add gravity to y-velocity, if in the air\r\n    if ( !this.onGround && this.isAffectedByGravity ) {\r\n      velocity.y -= GRAVITY * deltaTime * MS_FRAME_SCALE\r\n    }\r\n\r\n    this.position.x += velocity.x * deltaTime * MS_FRAME_SCALE\r\n    this.position.y += velocity.y * deltaTime * MS_FRAME_SCALE\r\n    this.position.z += velocity.z * deltaTime * MS_FRAME_SCALE\r\n\r\n    //Prevent falling through the ground\r\n    if ( this.position.y <= 0 && velocity.y < 0 ) {\r\n      this.position.y = 0\r\n      velocity.y = 0\r\n      this.onReturnToGround()\r\n    }\r\n  }\r\n\r\n  @action\r\n  stepFreefall( deltaTime ) {\r\n    this.integrateVelocity( this.freefall.velocity, deltaTime )\r\n    if ( this.freefall && this.freefall.damage ) {\r\n      \r\n      this.gameState.getGameObjectsInsideBox( this.getBoundingBox() ).forEach( gameObject => {\r\n        if ( gameObject !== this && gameObject.canTakeDamage && !gameObject.isDead ) {\r\n          gameObject.takeDamage( this.freefall.damage, this.position.x < gameObject.position.x ? directions.left : directions.right, this )\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  @action\r\n  stepMovement( deltaTime ) {\r\n    this.integrateVelocity( this.velocity, deltaTime )\r\n  }\r\n\r\n  @action\r\n  stepAnimation() {\r\n    const { trackName, startTime } = this.animationState\r\n    if ( !trackName ) {\r\n      return\r\n    }\r\n\r\n    const {\r\n      duration,\r\n      frames,\r\n      loopStartFrame,\r\n      introDuration,\r\n    } = this.animationTracks[ trackName ]\r\n    \r\n    const now = performance.now()\r\n    let currentFrame\r\n    if ( loopStartFrame ) {\r\n      if ( now - startTime <= introDuration ) {\r\n        currentFrame = Math.floor(( now - startTime ) / introDuration  * loopStartFrame )\r\n      }\r\n      else {\r\n        currentFrame = loopStartFrame + Math.floor((( now - startTime - introDuration ) / duration % 1 ) * ( frames.length - loopStartFrame ))\r\n      }\r\n    }\r\n    else {\r\n      currentFrame = Math.floor((( now - startTime ) / duration % 1 ) * frames.length)  \r\n    }\r\n    \r\n      \r\n    this.spritePosition.x = frames[ currentFrame ].x\r\n    this.spritePosition.y = frames[ currentFrame ].y\r\n    this.spriteWidth = frames[ currentFrame ].width || this.screenWidth\r\n    this.spriteHeight = frames[ currentFrame ].height || this.screenHeight\r\n  }\r\n\r\n  @computed\r\n  get onGround() {\r\n    return this.position.y === 0\r\n  }\r\n\r\n  @action\r\n  onReturnToGround() {\r\n    this.freefall = null\r\n  }\r\n\r\n  @action\r\n  setAnimation( trackName ) {\r\n    if ( this.animationState.trackName === trackName ) {\r\n      return\r\n    }\r\n\r\n    this.animationState = {\r\n      trackName,\r\n      startTime: performance.now(),\r\n    }\r\n  }\r\n\r\n  freezeMovement( duration, reason ) {\r\n    this.movementFreezes[ reason ] = performance.now() + duration\r\n  }\r\n\r\n  clearMovementFreezes() {\r\n    this.movementFreezes = {}\r\n  }\r\n\r\n  isMovementFrozen() {\r\n    const now = performance.now()\r\n    return Object.values( this.movementFreezes ).some( frozenUntilTime => frozenUntilTime >= now )\r\n  }\r\n\r\n  setFreefall( velocity, damage = 0 ) {\r\n    // Zero out any current y-velocity, since the freefall will take the object back to the ground\r\n    this.velocity.y = 0\r\n\r\n    this.freefall = {\r\n      velocity,\r\n      damage\r\n    }\r\n  }\r\n\r\n  inFreefall() {\r\n    return !!this.freefall\r\n  }\r\n\r\n  removeFromGame = () => {\r\n    this.gameState.removeGameObject( this )\r\n  }\r\n\r\n  getBoundingBox() {\r\n    return {\r\n      x: { min: this.position.x, max: this.position.x + this.collisionWidth },\r\n      y: { min: this.position.y + this.collisionBottom, max: this.position.y + this.collisionHeight },\r\n      z: { min: this.position.z - this.collisionDepth, max: this.position.z + this.collisionDepth }\r\n    }\r\n  }\r\n}\r\n\r\nexport default GameObject","import GameObject from './GameObject'\r\nimport { action, observable } from 'mobx'\r\nimport directions from '../shared/enum/directions'\r\n\r\n// A GameObject that can attack and take damage\r\n\r\nconst DAMAGE_FLYBACK_X = 4\r\nconst DAMAGE_FLYBACK_Y = 5\r\n\r\nconst DAMAGE_RANGE_NEAR_X = 25\r\nconst DAMAGE_RANGE_FAR_X = 30\r\nconst DAMAGE_RANGE_Z = 15\r\n\r\nclass GameCharacter extends GameObject {\r\n\r\n  @observable\r\n  courage = 2\r\n\r\n  @observable\r\n  damageDealt = 0\r\n\r\n  @observable\r\n  kills = 0\r\n\r\n  canTakeDamage = true\r\n  isDead = false\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.onDie = props.onDie\r\n  }\r\n\r\n  @action\r\n  attack( animation, damageDelay ) {\r\n    if ( !this.isMovementFrozen() && this.onGround ) {\r\n      this.attacking = true\r\n      this.setAnimation( animation )\r\n      const { duration } = this.animationTracks[ animation ]\r\n      this.freezeMovement( duration, 'attack' )\r\n      \r\n      this.attackDamageTimeout = setTimeout( this.doAttackDamage, damageDelay )\r\n    }\r\n  }\r\n\r\n  getAttackBox = () => {\r\n    let minX, maxX\r\n\r\n    if ( this.direction === directions.right ) {\r\n      minX = this.position.x + this.collisionWidth + DAMAGE_RANGE_NEAR_X\r\n      maxX = this.position.x + this.collisionWidth + DAMAGE_RANGE_FAR_X\r\n    } else {\r\n      maxX = this.position.x - DAMAGE_RANGE_NEAR_X\r\n      minX = this.position.x - DAMAGE_RANGE_FAR_X\r\n    }\r\n\r\n    return {\r\n      x: { min: minX, max: maxX },\r\n      y: { min: this.position.y, max: this.position.y + this.collisionHeight },\r\n      z: { min: this.position.z - DAMAGE_RANGE_Z, max: this.position.z + DAMAGE_RANGE_Z }\r\n    }\r\n  }\r\n\r\n  @action\r\n  doAttackDamage = () => {\r\n    const attackBox = this.getAttackBox()\r\n\r\n    this.gameState.getGameObjectsInsideBox(attackBox).forEach( gameObject => {\r\n      if ( gameObject !== this && gameObject.canTakeDamage && !gameObject.isDead ) {\r\n        gameObject.takeDamage( 1, this.direction === directions.right ? directions.left : directions.right, this )\r\n      }\r\n    })\r\n  }\r\n\r\n  @action\r\n  takeDamage( damage, fromDirection, fromGameCharacter ) {\r\n    if ( this.isCurrentlyTakingDamage ) {\r\n      return\r\n    }\r\n\r\n    this.courage -= damage\r\n    fromGameCharacter.damageDealt += damage\r\n\r\n    this.clearMovementFreezes() // Clear movement freezes because the character is about to be knocked backwards\r\n    clearTimeout( this.attackDamageTimeout ) // Interrupt any in-progress attack\r\n    this.isCurrentlyTakingDamage = true\r\n\r\n    this.setAnimation( 'take_damage' )\r\n    this.direction = fromDirection\r\n\r\n    this.setFreefall({\r\n      x: fromDirection === directions.left ? DAMAGE_FLYBACK_X : -DAMAGE_FLYBACK_X,\r\n      y: DAMAGE_FLYBACK_Y,\r\n      z: 0\r\n    })\r\n\r\n    if ( this.courage <= 0 ) {\r\n      this.die()\r\n      fromGameCharacter.kills += 1\r\n    }\r\n  }\r\n\r\n  @action\r\n  onReturnToGround() {\r\n    super.onReturnToGround()\r\n    this.isCurrentlyTakingDamage = false // Reset currently-taking-damage flag once damage freefall completes\r\n  }\r\n\r\n  @action\r\n  die() {\r\n    this.setAnimation( 'dead' )\r\n    this.isDead = true\r\n    // Increase the freefall velocity a bit\r\n    this.freefall.velocity.x *= 1.5\r\n    this.freefall.velocity.y *= 1.5\r\n    this.freefall.velocity.z *= 1.5\r\n\r\n    if ( this.onDie ) {\r\n      this.onDie()\r\n    }\r\n  }\r\n}\r\n\r\nexport default GameCharacter","import GameCharacter from './GameCharacter'\r\nimport GameObjectTypes from '../shared/enum/GameObjectTypes'\r\nimport { action, observable } from 'mobx'\r\nimport directions from '../shared/enum/directions'\r\n\r\nconst WALK_SPEED = 3\r\nconst JUMP_VELOCITY = 17\r\nconst JUMP_KICK_XVEL = 8\r\n\r\nconst STARTING_COURAGE = 12\r\n\r\nclass Player extends GameCharacter {\r\n\r\n  type = GameObjectTypes.Player\r\n  keyState = {\r\n    up: false,\r\n    down: false,\r\n    left: false,\r\n    right: false,\r\n  }\r\n  attackCount = 0\r\n\r\n  commonAnimationTracks = {\r\n    standing: {\r\n      frames: [{ x: 15, y: 0 }],\r\n      duration: 1000,\r\n    },\r\n    walking: {\r\n      frames: [\r\n        { x: 216, y: 0 }, \r\n        { x: 280, y: 0 },\r\n        { x: 216, y: 0 },\r\n        { x: 154, y: 0 }\r\n      ],\r\n      duration: 600,\r\n    },\r\n    in_air: {\r\n      frames: [\r\n        { x: 358, y: 0 }, \r\n        { x: 432, y: 0 }, \r\n        { x: 500, y: 0 },\r\n        { x: 580, y: 0 },\r\n        { x: 655, y: 0 }\r\n      ],\r\n      loopStartFrame: 1,\r\n      introDuration: 200,\r\n      duration: 400,\r\n    },\r\n    take_damage: {\r\n      frames: [{ x: 25, y: 300 }],\r\n      duration: 1000,\r\n    },\r\n    jump_kick: {\r\n      frames: [{ x: 740, y: 0, width: 120 }],\r\n      duration: 1000,\r\n    },\r\n    dead: {\r\n      frames: [{ x: 105, y: 300, width: 80 }],\r\n      duration: 1000,\r\n    },\r\n    dead_ground: {\r\n      frames: [{ x: 180, y: 290 }],\r\n      duration: 1000,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '870px'\r\n\r\n  @observable\r\n  screenHeight = 132\r\n\r\n  @observable\r\n  screenWidth = 68\r\n\r\n  @observable\r\n  collisionWidth = 64\r\n\r\n  @observable\r\n  collisionHeight = 80\r\n\r\n  @observable\r\n  collisionBottom = 20\r\n\r\n  @observable\r\n  collisionDepth = 30\r\n\r\n  @observable\r\n  courage = STARTING_COURAGE\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.playerNumber = props.playerNumber\r\n    this.setAnimation( 'standing' )\r\n  }\r\n\r\n  @action\r\n  onRight() {\r\n    this.keyState.right = true\r\n    this.velocity.x = WALK_SPEED\r\n  }\r\n\r\n  @action\r\n  offRight() {\r\n    this.keyState.right = false\r\n    this.velocity.x = this.keyState.left ? -WALK_SPEED : 0\r\n  }\r\n\r\n  @action\r\n  onLeft() {\r\n    this.keyState.left = true\r\n    this.velocity.x = -WALK_SPEED\r\n  }\r\n\r\n  @action\r\n  offLeft() {\r\n    this.keyState.left = false\r\n    this.velocity.x = this.keyState.right ? WALK_SPEED : 0\r\n  }\r\n\r\n  @action\r\n  onUp() {\r\n    this.keyState.up = true\r\n    this.velocity.z = WALK_SPEED\r\n  }\r\n\r\n  @action\r\n  offUp() {\r\n    this.keyState.up = false\r\n    this.velocity.z = this.keyState.down ? -WALK_SPEED : 0\r\n  }\r\n\r\n  @action\r\n  onDown() {\r\n    this.keyState.down = true\r\n    this.velocity.z = -WALK_SPEED\r\n  }\r\n\r\n  @action\r\n  offDown() {\r\n    this.keyState.down = false\r\n    this.velocity.z = this.keyState.up ? WALK_SPEED : 0\r\n  }\r\n\r\n  @action\r\n  onJump() {\r\n    if ( this.onGround && !this.isMovementFrozen() ) {\r\n      this.velocity.y = JUMP_VELOCITY\r\n      this.setAnimation( 'in_air' )\r\n    }\r\n  }\r\n\r\n  @action\r\n  onReturnToGround() {\r\n    this.updateMovementAnimation()\r\n    super.onReturnToGround()\r\n  }\r\n\r\n  @action\r\n  updateMovementAnimation() {\r\n    if ( !this.onGround ) {\r\n      this.setAnimation( 'in_air' )\r\n    }\r\n    else if ( Object.values(this.keyState).some( k => k )) {\r\n      this.setAnimation( 'walking' )\r\n    }\r\n    else if ( this.isDead ) {\r\n      this.setAnimation( 'dead_ground' ) \r\n    }\r\n    else {\r\n      this.setAnimation( 'standing' ) \r\n    }\r\n  }\r\n\r\n  @action\r\n  stepMovement( deltaTime ) {\r\n    super.stepMovement( deltaTime )\r\n\r\n    this.updateMovementAnimation()\r\n\r\n    // Set direction based on x-velocity.  If velocity is 0, leave direction alone (preserving the previous direction)\r\n    if ( this.velocity.x < 0 ) {\r\n      this.direction = directions.left\r\n    }\r\n    else if ( this.velocity.x > 0 ) {\r\n      this.direction = directions.right\r\n    }\r\n  }\r\n\r\n  @action\r\n  step( deltaTime ) {\r\n    super.step( deltaTime )\r\n    \r\n    //Prevent walking outside of level\r\n    this.position.z = Math.max( this.level.minZ, Math.min( this.level.maxZ, this.position.z ))\r\n\r\n    //Prevent backtracking behind camera\r\n    this.position.x = Math.max( this.camera.position.x + this.camera.screenLeftEdge, this.position.x )\r\n\r\n    //Prevent walking past camera\r\n    this.position.x = Math.min( this.camera.position.x + this.camera.screenRightEdge, this.position.x )\r\n  }\r\n\r\n  @action\r\n  jumpKick() {\r\n    if ( !this.isMovementFrozen() && !this.inFreefall()) {\r\n      this.setAnimation('jump_kick')\r\n      this.setFreefall({\r\n        x: this.direction === directions.right ? JUMP_KICK_XVEL : -JUMP_KICK_XVEL,\r\n        y: -2,\r\n        z: 0\r\n      }, 1)\r\n    }\r\n  }\r\n\r\n  @action\r\n  onAttack() {\r\n    if ( !this.onGround ) {\r\n      this.jumpKick()\r\n    }\r\n    else {\r\n      const attackAnimation = this.attackCount % 2 === 0 ? 'attack1' : 'attack2'\r\n      this.attack( attackAnimation, 80 )\r\n      this.attackCount += 1\r\n    }\r\n  }\r\n}\r\n\r\nexport default Player","import Player from './Player'\r\nimport { observable } from 'mobx'\r\n\r\nclass SelinaPlayer extends Player {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/selina_player.png'\r\n\r\n  @observable\r\n  name = 'Selina'\r\n\r\n  animationTracks = {\r\n    ...this.commonAnimationTracks,\r\n\r\n    attack1: {\r\n      frames: [\r\n        { x: 15, y: 132, height: 160 }, \r\n        { x: 85, y: 132, height: 160, width: 80 },\r\n        { x: 156, y: 132, height: 160, width: 130 },\r\n      ],\r\n      duration: 300,\r\n    },\r\n\r\n    attack2: {\r\n      frames: [\r\n        { x: 287, y: 132, height: 160 }, \r\n        { x: 360, y: 132, height: 160, width: 120 },\r\n        { x: 465, y: 132, height: 160 },\r\n      ],\r\n      duration: 300,\r\n    }\r\n  }\r\n}\r\n\r\nexport default SelinaPlayer","import Player from './Player'\r\nimport { observable } from 'mobx'\r\n\r\nclass GraysonPlayer extends Player {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/grayson_player.png'\r\n\r\n  @observable\r\n  name = 'Grayson'\r\n\r\n  animationTracks = {\r\n    ...this.commonAnimationTracks,\r\n\r\n    attack1: {\r\n      frames: [\r\n        { x: 15, y: 132, height: 160 }, \r\n        { x: 85, y: 132, height: 160, width: 80 },\r\n        { x: 156, y: 132, height: 160, width: 130 },\r\n      ],\r\n      duration: 300,\r\n    },\r\n\r\n    attack2: {\r\n      frames: [\r\n        { x: 287, y: 132, height: 160 }, \r\n        { x: 360, y: 132, height: 160, width: 120 },\r\n        { x: 465, y: 132, height: 160 },\r\n      ],\r\n      duration: 300,\r\n    }\r\n  }\r\n}\r\n\r\nexport default GraysonPlayer","import GameObject from './GameObject'\r\n\r\nconst RESPAWN_MAX_DISTANCE = 800\r\n\r\nclass EnemySpawner extends GameObject {\r\n\r\n  triggered = false\r\n  enemiesKilled = 0\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.triggerX = props.triggerX\r\n    this.enemies = props.enemies\r\n    this.locksCamera = props.locksCamera\r\n    this.respawnEvery = props.respawnEvery\r\n  }\r\n\r\n  stepMovement( deltaTime ) {\r\n    \r\n    if ( this.camera.position.x >= this.triggerX ) {\r\n      if ( !this.triggered ) {\r\n        this.trigger()\r\n      }\r\n    }\r\n \r\n    super.stepMovement( deltaTime )\r\n  }\r\n\r\n  trigger() {\r\n    this.triggered = true\r\n\r\n    this.addEnemies()\r\n    if ( this.locksCamera ) {\r\n      this.camera.lock()\r\n    }\r\n  }\r\n\r\n  playersStillCloseEnoughToRespawn() {\r\n    return this.gameState.players.every( player => player.position.x <= this.triggerX + RESPAWN_MAX_DISTANCE )\r\n  }\r\n\r\n  addEnemies = () => {\r\n    this.enemies.forEach( enemy => {\r\n      setTimeout(() => this.addEnemy( enemy ), enemy.delay )\r\n    })\r\n\r\n    if ( this.respawnEvery && this.playersStillCloseEnoughToRespawn() ) {\r\n      setTimeout( this.addEnemies, this.respawnEvery )\r\n    }\r\n  }\r\n\r\n  addEnemy = ( enemy ) => {\r\n    this.gameState.addGameObject( enemy.enemyType, {\r\n      position: {\r\n        x: enemy.position.x + this.position.x, \r\n        y: enemy.position.y + this.position.y,\r\n        z: enemy.position.z + this.position.z\r\n      },\r\n      onDie: this.onEnemyKilled\r\n    })  \r\n  }\r\n\r\n  onEnemyKilled = () => {\r\n    this.enemiesKilled += 1\r\n    if ( this.enemiesKilled === this.enemies.length && this.locksCamera ) {\r\n      this.camera.unlock()\r\n    }\r\n  }\r\n}\r\n\r\nexport default EnemySpawner","import EnemySpawner from './EnemySpawner'\r\nimport { observable } from 'mobx'\r\n\r\nclass DoorSpawner extends EnemySpawner {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/breaking_door.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 4, y: 8 },\r\n      ],\r\n      duration: 400,\r\n    },\r\n    broken: {\r\n      frames: [\r\n        { x: 130, y: 8 },\r\n        { x: 230, y: 8 },\r\n        { x: 400, y: 8 },\r\n        { x: 8, y: 235 },\r\n        { x: 133, y: 235 },\r\n        { x: 283, y: 235 }\r\n      ],\r\n      loopStartFrame: 3,\r\n      introDuration: 300,\r\n      duration: 400,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '545px'\r\n\r\n  @observable \r\n  screenWidth = 128\r\n\r\n  @observable \r\n  screenHeight = 170\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.setAnimation( 'default' )\r\n  }\r\n\r\n  trigger() {\r\n    super.trigger()\r\n    this.setAnimation( 'broken' )\r\n  }\r\n}\r\n\r\nexport default DoorSpawner","import GameObject from './GameObject'\r\nimport { observable } from 'mobx'\r\n\r\nclass Blood extends GameObject {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/blood.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 0, y: 0 },\r\n        { x: 0, y: 128 },\r\n        { x: 0, y: 256 },\r\n      ],\r\n      duration: 400,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = 'auto 305%'\r\n\r\n  @observable \r\n  screenWidth = 8000\r\n\r\n  @observable \r\n  screenHeight = 125\r\n\r\n  @observable\r\n  isForeground = true\r\n\r\n  @observable\r\n  position = {\r\n    x: 0,\r\n    y: 0,\r\n    z: -10,\r\n  }\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.setAnimation( 'default' )\r\n  }\r\n}\r\n\r\nexport default Blood","export const randomBetween = ( min, max ) => min + Math.random() * ( max - min )","import GameObject from './GameObject'\r\nimport { observable } from 'mobx'\r\nimport { randomBetween } from '../shared/utils'\r\n\r\nconst X_FALLING_VEL = 3.5\r\nconst Z_FALLING_VEL = -4\r\nconst VEL_SPREAD = 2\r\nconst BOUNCE_VEL = 10\r\n\r\nconst BECOME_INVISIBLE_AT = -100\r\n\r\nclass Head extends GameObject {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/head.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 0, y: 0 },\r\n      ],\r\n      duration: 100,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '100%'\r\n\r\n  @observable \r\n  screenWidth = 64\r\n\r\n  @observable \r\n  screenHeight = 64\r\n\r\n  @observable\r\n  collisionWidth = 64\r\n\r\n  @observable\r\n  collisionHeight = 64\r\n\r\n  @observable\r\n  collisionDepth = 40\r\n\r\n  @observable\r\n  collisionBottom = 0\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.setAnimation( 'default' )\r\n    this.xVel = randomBetween( X_FALLING_VEL - VEL_SPREAD, X_FALLING_VEL + VEL_SPREAD )\r\n    this.zVel = Z_FALLING_VEL\r\n    this.setFreefall({\r\n      x: this.xVel,\r\n      y: 0,\r\n      z: this.zVel\r\n    }, 1)\r\n  }\r\n\r\n  onReturnToGround() {\r\n    super.onReturnToGround()\r\n    \r\n    // Bounce\r\n    this.setFreefall({\r\n      x: this.xVel,\r\n      y: BOUNCE_VEL,\r\n      z: this.zVel\r\n    }, 1)\r\n  }\r\n\r\n  step( deltaTime ) {\r\n    super.step( deltaTime )\r\n    if ( this.position.z <= BECOME_INVISIBLE_AT ) {\r\n      this.removeFromGame()\r\n    }\r\n  }\r\n}\r\n\r\nexport default Head","import GameCharacter from './GameCharacter'\r\nimport GameObjectTypes from '../shared/enum/GameObjectTypes'\r\nimport { action, observable } from 'mobx'\r\nimport directions from '../shared/enum/directions'\r\nimport sortBy from 'lodash/sortBy'\r\n\r\nconst WALK_SPEED = 2.4\r\n\r\nconst TARGET_OFFSET = -10\r\n\r\nclass FootEnemy extends GameCharacter {\r\n\r\n  type = GameObjectTypes.Enemy\r\n\r\n  animationTracks = {\r\n    walking: {\r\n      frames: [\r\n        { x: 42, y: 20 },\r\n        { x: 114, y: 20 },\r\n        { x: 184, y: 20 },\r\n        { x: 114, y: 20 },\r\n      ],\r\n      duration: 700,\r\n    },\r\n    attack: {\r\n      frames: [\r\n        { x: 42, y: 405 },\r\n        { x: 120, y: 402, width: 120 },\r\n        { x: 42, y: 20 },\r\n      ],\r\n      duration: 800,\r\n    },\r\n    take_damage: {\r\n      frames: [{ x: 52, y: 560 }],\r\n      duration: 1000\r\n    },\r\n    dead: {\r\n      frames: [{ x: 140, y: 550, width: 120 }],\r\n      duration: 1000\r\n    },\r\n    jump_kick: {\r\n      frames: [\r\n        { x: 35, y: 200 },\r\n        { x: 170, y: 150, width: 150 },\r\n      ],\r\n      loopStartFrame: 1,\r\n      introDuration: 200,\r\n      duration: 400,\r\n    },\r\n    explode: {\r\n      frames: [\r\n        { x: 400, y: 460 },\r\n        { x: 490, y: 450, width: 100 },\r\n        { x: 0, y: 0, width: 1 },\r\n      ], \r\n      loopStartFrame: 2,\r\n      introDuration: 200,\r\n      duration: 1000,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '3200px'\r\n\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/enemy.png'\r\n\r\n  @observable\r\n  collisionWidth = 64\r\n\r\n  @observable\r\n  screenWidth = 68\r\n\r\n  @observable\r\n  screenHeight = 132\r\n\r\n  @observable\r\n  collisionHeight = 90\r\n\r\n  @observable\r\n  collisionBottom = 20\r\n\r\n  @observable\r\n  collisionDepth = 30\r\n\r\n  longRangeAttackChance = 0.15\r\n\r\n  longRangeAttackTimeout = 2000\r\n\r\n  jumpKickVelocity = { x: 6, y: 10, z: 0 }\r\n\r\n  shortAttackRange = [ 0, 10 ]\r\n\r\n  longAttackRange = [ 20, 300 ]\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.lastLongRangeAttackConsideredAt = 0\r\n    this.setAnimation( 'walking' )\r\n  }\r\n\r\n  distToMe = ( player ) => {\r\n    const { x, z } = this.position\r\n    return Math.pow( player.position.x - x, 2) + Math.pow(player.position.z - z, 2 )\r\n  }\r\n\r\n  updateTargetedPlayer() {\r\n    const playersByDistanceSquared = sortBy( this.gameState.players.filter( p => !p.isDead ), this.distToMe )\r\n    if ( !playersByDistanceSquared.length ) {\r\n      return\r\n    }\r\n\r\n    if ( !this.targetedPlayer || this.targetedPlayer.isDead ) {\r\n      this.targetedPlayer = playersByDistanceSquared[0]\r\n    }\r\n    else if ( this.distToMe(this.targetedPlayer ) / this.distToMe( playersByDistanceSquared[0] ) >= 2) { //If a new target is twice as close as the existing target\r\n      this.targetedPlayer = playersByDistanceSquared[0]\r\n    }\r\n  }\r\n\r\n  getTargetPosition() {\r\n    let x;\r\n    if ( this.position.x < this.targetedPlayer.position.x ) {\r\n      this.direction = directions.right\r\n      x = this.targetedPlayer.position.x - this.collisionWidth +  - TARGET_OFFSET\r\n    }\r\n    else if ( this.position.x > this.targetedPlayer.position.x ) {\r\n      this.direction = directions.left\r\n      x = this.targetedPlayer.position.x + this.targetedPlayer.collisionWidth + TARGET_OFFSET\r\n    }\r\n\r\n    return {\r\n      x,\r\n      z: this.targetedPlayer.position.z\r\n    }\r\n  }\r\n\r\n  @action\r\n  moveTowardsTargetedPlayer() {\r\n    this.setAnimation( 'walking' )\r\n    const target = this.getTargetPosition()\r\n    const reachedTargetBuffer = 10\r\n\r\n    if ( this.position.x < target.x - reachedTargetBuffer ) {\r\n      this.velocity.x = WALK_SPEED\r\n    }\r\n    else if ( this.position.x > target.x + reachedTargetBuffer ) {\r\n      this.velocity.x = -WALK_SPEED\r\n    }\r\n    else {\r\n      this.velocity.x = 0\r\n    }\r\n\r\n    if ( this.position.z < target.z - reachedTargetBuffer ) {\r\n      this.velocity.z = WALK_SPEED\r\n    }\r\n    else if ( this.position.z > target.z + reachedTargetBuffer ) {\r\n      this.velocity.z = -WALK_SPEED\r\n    }\r\n    else {\r\n      this.velocity.z = 0\r\n    }\r\n  }\r\n\r\n  xDistanceToTarget() {\r\n    return Math.abs( this.getTargetPosition().x - this.position.x )\r\n  }\r\n\r\n  shouldDoLongRangeAttack() {\r\n    const now = performance.now()\r\n    const xDistance = this.xDistanceToTarget()\r\n    if ( this.lastLongRangeAttackConsideredAt + this.longRangeAttackTimeout < now) {\r\n      this.lastLongRangeAttackConsideredAt = now\r\n\r\n      return (\r\n        Math.random() <= this.longRangeAttackChance &&\r\n        xDistance >= this.longAttackRange[ 0 ] && \r\n        xDistance <= this.longAttackRange[ 1 ] && \r\n        this.velocity.z === 0\r\n      )\r\n    }\r\n  }\r\n\r\n  shouldDoShortRangeAttack() {\r\n    const xDistance = this.xDistanceToTarget()\r\n\r\n    return (\r\n      xDistance >= this.shortAttackRange[ 0 ] && \r\n      xDistance <= this.shortAttackRange[ 1 ] && \r\n      this.velocity.z === 0\r\n    )\r\n  }\r\n\r\n  @action\r\n  doShortRangeAttack() {\r\n    this.attack( 'attack', 350 )\r\n  }\r\n\r\n  @action\r\n  doLongRangeAttack() {\r\n    this.setAnimation('jump_kick')\r\n    this.setFreefall({\r\n      x: this.direction === directions.right ? this.jumpKickVelocity.x : -this.jumpKickVelocity.x,\r\n      y: this.jumpKickVelocity.y,\r\n      z: this.jumpKickVelocity.z\r\n    }, 1)\r\n  }\r\n\r\n  @action\r\n  stepMovement( deltaTime ) {\r\n    this.updateTargetedPlayer()\r\n    this.moveTowardsTargetedPlayer()\r\n\r\n    // Short-range attack takes precedence over long-range attack\r\n    if ( this.shouldDoShortRangeAttack()) {\r\n      this.doShortRangeAttack()\r\n    }\r\n    else if ( this.shouldDoLongRangeAttack()) {\r\n      this.doLongRangeAttack()\r\n    }\r\n\r\n    super.stepMovement( deltaTime )\r\n  }\r\n\r\n  @action\r\n  onReturnToGround() {\r\n    if ( this.isDead ) {\r\n      setTimeout( this.explode, 500 )\r\n    }\r\n    super.onReturnToGround()\r\n  }\r\n\r\n  @action\r\n  explode = () => {\r\n    this.setAnimation( 'explode' )\r\n  }\r\n}\r\n\r\nexport default FootEnemy","import FootEnemy from './FootEnemy'\r\n\r\nclass LeapEnemy extends FootEnemy {\r\n  longRangeAttackChance = 0.6\r\n\r\n  longRangeAttackTimeout = 2000\r\n\r\n  jumpKickVelocity = { x: 4, y: 16, z: 0 }\r\n\r\n  shortAttackRange = [ 0, 10 ]\r\n\r\n  longAttackRange = [ 25, 250 ]\r\n\r\n  animationTracks = {\r\n    walking: {\r\n      frames: [\r\n        { x: 1500, y: 20, width: 80 },\r\n        { x: 1590, y: 20 },\r\n        { x: 1690, y: 20 },\r\n        { x: 1590, y: 20 },\r\n      ],\r\n      duration: 700,\r\n    },\r\n    attack: {\r\n      frames: [\r\n        { x: 1500, y: 202, width: 80 },\r\n        { x: 1590, y: 200, width: 120 },\r\n      ],\r\n      duration: 600,\r\n    },\r\n    take_damage: {\r\n      frames: [{ x: 1500, y: 560 }],\r\n      duration: 1000\r\n    },\r\n    dead: {\r\n      frames: [{ x: 1590, y: 550, width: 120 }],\r\n      duration: 1000\r\n    },\r\n    jump_kick: {\r\n      frames: [\r\n        { x: 1500, y: 370 },\r\n        { x: 1590, y: 360, width: 120 },\r\n      ],\r\n      loopStartFrame: 1,\r\n      introDuration: 150,\r\n      duration: 400,\r\n    },\r\n    explode: {\r\n      frames: [\r\n        { x: 400, y: 460 },\r\n        { x: 490, y: 450, width: 100 },\r\n        { x: 0, y: 0, width: 1 },\r\n      ], \r\n      loopStartFrame: 2,\r\n      introDuration: 200,\r\n      duration: 1000,\r\n    }\r\n  }\r\n}\r\n\r\nexport default LeapEnemy","import FootEnemy from './FootEnemy'\r\nimport { action } from 'mobx'\r\nimport directions from '../shared/enum/directions'\r\n\r\nclass ThrowerEnemy extends FootEnemy {\r\n  longRangeAttackChance = 0.75\r\n\r\n  longRangeAttackTimeout = 1500\r\n\r\n  shortAttackRange = [ 0, 10 ]\r\n\r\n  longAttackRange = [ 25, 250 ]\r\n\r\n  @action\r\n  doLongRangeAttack() {\r\n    const animation = 'throw'\r\n    const { duration } = this.animationTracks[ animation ]\r\n    this.setAnimation( animation )\r\n    this.freezeMovement( duration, 'throw' )\r\n\r\n    const projectileDelay = 350\r\n    this.throwTimeout = setTimeout( this.throwProjectile, projectileDelay )\r\n  }\r\n\r\n  @action\r\n  throwProjectile = () => {\r\n    const xOffset = this.direction === directions.right ? this.rightThrowOffset : this.leftThrowOffset\r\n    this.gameState.addGameObject( this.projectileType, {\r\n      position: {\r\n        x: this.position.x + xOffset,\r\n        y: this.position.y + this.throwHeight,\r\n        z: this.position.z\r\n      },\r\n      direction: this.direction,\r\n      parentEnemy: this,\r\n    })\r\n  }\r\n\r\n  @action\r\n  takeDamage( damage, fromDirection, fromGamePlayer ) {\r\n    clearTimeout( this.throwTimeout )\r\n    super.takeDamage( damage, fromDirection, fromGamePlayer )\r\n  }\r\n}\r\n\r\nexport default ThrowerEnemy","import GameObject from './GameObject'\r\nimport { observable } from 'mobx'\r\nimport directions from '../shared/enum/directions'\r\n\r\n\r\nclass Projectile extends GameObject {\r\n  \r\n  @observable\r\n  isAffectedByGravity = false\r\n\r\n  @observable\r\n  hasShadow = false\r\n\r\n  lifetime = 1500\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.parentEnemy = props.parentEnemy\r\n    this.setAnimation( 'default' )\r\n    this.direction = props.direction\r\n    this.velocity.x = this.direction === directions.right ? this.speed : -this.speed\r\n\r\n    this.lifetimeTimeout = setTimeout( this.removeFromGame, this.lifetime )\r\n  }\r\n\r\n  stepMovement( deltaTime ) {\r\n    super.stepMovement( deltaTime )\r\n    \r\n    this.gameState.getGameObjectsInsideBox( this.getBoundingBox() ).forEach( gameObject => {\r\n      if ( gameObject !== this && gameObject.canTakeDamage && !gameObject.isDead && gameObject !== this.parentEnemy ) {\r\n        gameObject.takeDamage( 1, this.position.x < gameObject.position.x ? directions.left : directions.right, this )\r\n        clearTimeout( this.lifetimeTimeout )\r\n        this.removeFromGame()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default Projectile","import Projectile from './Projectile'\r\nimport { observable } from 'mobx'\r\n\r\nclass KnifeProjectile extends Projectile {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/enemy.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 1410, y: 238 },\r\n      ],\r\n      duration: 100,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '3200px'\r\n\r\n  @observable \r\n  screenWidth = 40\r\n\r\n  @observable \r\n  screenHeight = 30\r\n\r\n  @observable\r\n  collisionWidth = 25\r\n\r\n  @observable\r\n  collisionHeight = 30\r\n\r\n  @observable\r\n  collisionDepth = 20\r\n\r\n  @observable\r\n  collisionBottom = 0\r\n\r\n  @observable\r\n  speed = 9\r\n}\r\n\r\nexport default KnifeProjectile","import ThrowerEnemy from './ThrowerEnemy'\r\nimport KnifeProjectile from './KnifeProjectile'\r\n\r\nclass KnifeThrowerEnemy extends ThrowerEnemy {\r\n  longRangeAttackChance = 0.75\r\n\r\n  longRangeAttackTimeout = 1500\r\n\r\n  shortAttackRange = [ 0, 10 ]\r\n\r\n  longAttackRange = [ 25, 250 ]\r\n\r\n  projectileType = KnifeProjectile\r\n\r\n  throwHeight = 65\r\n\r\n  leftThrowOffset = -40\r\n  rightThrowOffset = 60\r\n\r\n  animationTracks = {\r\n    walking: {\r\n      frames: [\r\n        { x: 1145, y: 20 },\r\n        { x: 1220, y: 20 },\r\n        { x: 1280, y: 20 },\r\n        { x: 1220, y: 20 },\r\n      ],\r\n      duration: 700,\r\n    },\r\n    attack: {\r\n      frames: [\r\n        { x: 1145, y: 20 },\r\n        { x: 1150, y: 350, width: 120 },\r\n      ],\r\n      duration: 600,\r\n    },\r\n    take_damage: {\r\n      frames: [{ x: 1145, y: 510 }],\r\n      duration: 1000\r\n    },\r\n    dead: {\r\n      frames: [{ x: 1240, y: 490, width: 120 }],\r\n      duration: 1000\r\n    },\r\n    explode: {\r\n      frames: [\r\n        { x: 400, y: 460 },\r\n        { x: 490, y: 450, width: 100 },\r\n        { x: 0, y: 0, width: 1 },\r\n      ], \r\n      loopStartFrame: 2,\r\n      introDuration: 200,\r\n      duration: 1000,\r\n    },\r\n    throw: {\r\n      frames: [\r\n        { x: 1145, y: 20 },\r\n        { x: 1160, y: 204 },\r\n        { x: 1250, y: 204, width: 120 },\r\n      ],\r\n      duration: 500,\r\n    },\r\n  }\r\n}\r\n\r\nexport default KnifeThrowerEnemy","import EnemySpawner from './EnemySpawner'\r\nimport { observable } from 'mobx'\r\n\r\nclass ElevatorSpawner extends EnemySpawner {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/opening_elevator.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 4, y: 8 },\r\n      ],\r\n      duration: 400,\r\n    },\r\n    broken: {\r\n      frames: [\r\n        { x: 130, y: 8 },\r\n        { x: 232, y: 8 },\r\n        { x: 332, y: 8 },\r\n        { x: 436, y: 8 },\r\n        { x: 133, y: 235 },\r\n        { x: 283, y: 235 }\r\n      ],\r\n      loopStartFrame: 4,\r\n      introDuration: 400,\r\n      duration: 400,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '545px'\r\n\r\n  @observable \r\n  screenWidth = 100\r\n\r\n  @observable \r\n  screenHeight = 170\r\n\r\n  constructor( props ) {\r\n    super( props )\r\n    this.setAnimation( 'default' )\r\n  }\r\n\r\n  trigger() {\r\n    super.trigger()\r\n    this.setAnimation( 'broken' )\r\n  }\r\n}\r\n\r\nexport default ElevatorSpawner","import Projectile from './Projectile'\r\nimport { observable } from 'mobx'\r\n\r\nclass BigknifeProjectile extends Projectile {\r\n  @observable\r\n  spriteUrl = '/assets/images/gameObjects/enemy.png'\r\n\r\n  animationTracks = {\r\n    default: {\r\n      frames: [\r\n        { x: 565, y: 385 },\r\n      ],\r\n      duration: 100,\r\n    }\r\n  }\r\n\r\n  @observable \r\n  spriteScale = '3200px'\r\n\r\n  @observable \r\n  screenWidth = 110\r\n\r\n  @observable \r\n  screenHeight = 20\r\n\r\n  @observable\r\n  collisionWidth = 45\r\n\r\n  @observable\r\n  collisionHeight = 20\r\n\r\n  @observable\r\n  collisionDepth = 20\r\n\r\n  @observable\r\n  collisionBottom = 0\r\n\r\n  @observable\r\n  speed = 10\r\n}\r\n\r\nexport default BigknifeProjectile","import ThrowerEnemy from './ThrowerEnemy'\r\nimport BigknifeProjectile from './BigknifeProjectile'\r\n\r\nclass BigknifeEnemy extends ThrowerEnemy {\r\n  longRangeAttackChance = 0.75\r\n\r\n  longRangeAttackTimeout = 1500\r\n\r\n  shortAttackRange = [ 0, 10 ]\r\n\r\n  longAttackRange = [ 25, 250 ]\r\n\r\n  projectileType = BigknifeProjectile\r\n\r\n  throwHeight = 80\r\n\r\n  leftThrowOffset = -40\r\n  rightThrowOffset = 60\r\n\r\n  animationTracks = {\r\n    walking: {\r\n      frames: [\r\n        { x: 403, y: 25, width: 110 },\r\n        { x: 520, y: 25, width: 110 },\r\n        { x: 630, y: 25, width: 110 },\r\n        { x: 520, y: 25, width: 110 },\r\n      ],\r\n      duration: 700,\r\n    },\r\n    attack: {\r\n      frames: [\r\n        { x: 403, y: 25, width: 110 },\r\n        { x: 420, y: 330, width: 110 },\r\n      ],\r\n      duration: 600,\r\n    },\r\n    take_damage: {\r\n      frames: [{ x: 52, y: 560 }],\r\n      duration: 1000\r\n    },\r\n    dead: {\r\n      frames: [{ x: 140, y: 550, width: 120 }],\r\n      duration: 1000\r\n    },\r\n    explode: {\r\n      frames: [\r\n        { x: 400, y: 460 },\r\n        { x: 490, y: 450, width: 100 },\r\n        { x: 0, y: 0, width: 1 },\r\n      ], \r\n      loopStartFrame: 2,\r\n      introDuration: 200,\r\n      duration: 1000,\r\n    },\r\n    throw: {\r\n      frames: [\r\n        { x: 403, y: 25, width: 110 },\r\n        { x: 410, y: 195, width: 100 },\r\n        { x: 520, y: 195, width: 110 },\r\n      ],\r\n      duration: 500,\r\n    },\r\n  }\r\n}\r\n\r\nexport default BigknifeEnemy","import { observable } from 'mobx'\r\nimport EnemySpawner from './EnemySpawner'\r\nimport DoorSpawner from './DoorSpawner'\r\nimport Blood from './Blood'\r\nimport Head from './Head'\r\nimport FootEnemy from './FootEnemy'\r\nimport LeapEnemy from './LeapEnemy'\r\nimport KnifeThrowerEnemy from './KnifeThrowerEnemy'\r\nimport ElevatorSpawner from './ElevatorSpawner'\r\nimport BigknifeEnemy from './BigknifeEnemy'\r\n\r\nclass Level {\r\n\r\n  @observable\r\n  backgroundUrl = '/assets/images/levels/level1/background.png'\r\n\r\n  @observable\r\n  minZ = 25\r\n\r\n  @observable\r\n  maxZ = 260\r\n\r\n  maxCamPosition = 3795\r\n\r\n  startingGameObjects = [\r\n    { objectType: Blood },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 0, y: 0, z: 0 },\r\n      triggerX: 0,\r\n      enemies: [\r\n        { position: { x: -80, y: 0, z: 250 }, delay: 0, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 620, y: 0, z: 0 },\r\n      triggerX: 250,\r\n      enemies: [\r\n        { position: { x: -450, y: 0, z: 250 }, delay: 0, enemyType: FootEnemy },\r\n        { position: { x: 320, y: 0, z: 150 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: 320, y: 0, z: 100 }, delay: 2000, enemyType: FootEnemy },\r\n        { position: { x: 320, y: 0, z: 250 }, delay: 5000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 880, y: 0, z: 0 },\r\n      triggerX: 510,\r\n      enemies: [\r\n        { position: { x: -550, y: 0, z: 250 }, delay: 0, enemyType: FootEnemy },\r\n        { position: { x: -550, y: 0, z: 250 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: 300, y: 0, z: 250 }, delay: 2000, enemyType: FootEnemy },\r\n        { position: { x: -550, y: 0, z: 250 }, delay: 5000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: DoorSpawner,\r\n      position: { x: 1018, y: 0, z: 283 },\r\n      triggerX: 680,\r\n      enemies: [\r\n        { position: { x: 30, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n      ]\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 1050, y: 0, z: 0 },\r\n      triggerX: 680,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 200 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 200 }, delay: 1500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 250 }, delay: 5000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 200 }, delay: 6500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 100 }, delay: 800, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 250 }, delay: 11000, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 150 }, delay: 12000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 1400, y: 0, z: 200 },\r\n      triggerX: 930,\r\n      enemies: [\r\n        { position: { x: -100, y: 100, z: 120 }, delay: 0, enemyType: Head },\r\n        { position: { x: -120, y: 100, z: 125 }, delay: 200, enemyType: Head },\r\n      ],\r\n      respawnEvery: 2400,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 1400, y: 0, z: 0 },\r\n      triggerX: 930,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 220 }, delay: 400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: -500, y: 0, z: 80 }, delay: 1400, enemyType: KnifeThrowerEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 1550, y: 0, z: 0 },\r\n      triggerX: 1180,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 220 }, delay: 400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: -500, y: 0, z: 80 }, delay: 1400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: 500, y: 0, z: 80 }, delay: 3000, enemyType: KnifeThrowerEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: DoorSpawner,\r\n      position: { x: 1983, y: 0, z: 283 },\r\n      triggerX: 1680,\r\n      enemies: [\r\n        { position: { x: 30, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n      ]\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 2050, y: 0, z: 0 },\r\n      triggerX: 1680,\r\n      enemies: [\r\n        { position: { x: 500, y: 0, z: 240 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 240 }, delay: 2000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 150 }, delay: 6000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 50 }, delay: 7000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 250 }, delay: 11000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 2200, y: 0, z: 0 },\r\n      triggerX: 1830,\r\n      enemies: [\r\n        { position: { x: 400, y: 0, z: 0 }, delay: 0, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 200 }, delay: 15000, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 240 }, delay: 2500, enemyType: FootEnemy },\r\n        { position: { x: -500, y: 0, z: 240 }, delay: 5500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 10 }, delay: 8500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: 10 }, delay: 11500, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 2700, y: 0, z: 200 },\r\n      triggerX: 2280,\r\n      enemies: [\r\n        { position: { x: -100, y: 100, z: 120 }, delay: 0, enemyType: Head },\r\n        { position: { x: -120, y: 100, z: 125 }, delay: 200, enemyType: Head },\r\n      ],\r\n      respawnEvery: 2200,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 2700, y: 0, z: 0 },\r\n      triggerX: 2280,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 220 }, delay: 400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: -500, y: 0, z: 80 }, delay: 1400, enemyType: KnifeThrowerEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 2850, y: 0, z: 0 },\r\n      triggerX: 2480,\r\n      enemies: [\r\n        { position: { x: 400, y: 0, z: 20 }, delay: 400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: -500, y: 0, z: 240 }, delay: 1400, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: -500, y: 0, z: 80 }, delay: 3500, enemyType: KnifeThrowerEnemy },\r\n        { position: { x: 400, y: 0, z: 240 }, delay: 5000, enemyType: KnifeThrowerEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: DoorSpawner,\r\n      position: { x: 2946, y: 0, z: 283 },\r\n      triggerX: 2780,\r\n      enemies: [\r\n        { position: { x: 30, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: -25 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: -25 }, delay: 1500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: -225 }, delay: 5500, enemyType: FootEnemy },\r\n        { position: { x: 500, y: 0, z: -25 }, delay: 7000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true\r\n    },\r\n    {\r\n      objectType: DoorSpawner,\r\n      position: { x: 3268, y: 0, z: 283 },\r\n      triggerX: 2930,\r\n      enemies: [\r\n        { position: { x: 30, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n        { position: { x: 700, y: 0, z: -25 }, delay: 1000, enemyType: FootEnemy },\r\n        { position: { x: -450, y: 0, z: -25 }, delay: 2000, enemyType: FootEnemy },\r\n        { position: { x: 700, y: 0, z: -25 }, delay: 5000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 3500, y: 0, z: 0 },\r\n      triggerX: 3130,\r\n      enemies: [ \r\n        { position: { x: -500, y: 0, z: 240 }, delay: 0, enemyType: LeapEnemy },\r\n        { position: { x: -500, y: 0, z: 240 }, delay: 500, enemyType: LeapEnemy },\r\n        { position: { x: 500, y: 0, z: 240 }, delay: 1000, enemyType: LeapEnemy },\r\n        { position: { x: 500, y: 0, z: 240 }, delay: 4000, enemyType: LeapEnemy },\r\n        { position: { x: 500, y: 0, z: 240 }, delay: 6500, enemyType: LeapEnemy },\r\n        { position: { x: 500, y: 0, z: 40 }, delay: 9500, enemyType: LeapEnemy },\r\n        { position: { x: -400, y: 0, z: 240 }, delay: 11000, enemyType: LeapEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: ElevatorSpawner,\r\n      position: { x: 3594, y: 0, z: 280 },\r\n      triggerX: 3480,\r\n      enemies: []\r\n    },\r\n    {\r\n      objectType: ElevatorSpawner,\r\n      position: { x: 3915, y: 0, z: 280 },\r\n      triggerX: 3480,\r\n      enemies: [\r\n        { position: { x: 30, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n        { position: { x: -305, y: 0, z: -5 }, delay: 300, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 3950, y: 0, z: 0 },\r\n      triggerX: 3580,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 50 }, delay: 0, enemyType: FootEnemy },\r\n        { position: { x: 400, y: 0, z: 240 }, delay: 800, enemyType: FootEnemy },\r\n        { position: { x: 400, y: 0, z: 220 }, delay: 1300, enemyType: FootEnemy },\r\n        { position: { x: 400, y: 0, z: 240 }, delay: 3000, enemyType: FootEnemy },\r\n      ],\r\n      locksCamera: true,\r\n    },\r\n    {\r\n      objectType: EnemySpawner,\r\n      position: { x: 4100, y: 0, z: 0 },\r\n      triggerX: 3730,\r\n      enemies: [\r\n        { position: { x: -500, y: 0, z: 50 }, delay: 0, enemyType: BigknifeEnemy },\r\n        { position: { x: -500, y: 0, z: 250 }, delay: 250, enemyType: BigknifeEnemy },\r\n        { position: { x: -500, y: 0, z: 50 }, delay: 3000, enemyType: LeapEnemy },\r\n        { position: { x: -500, y: 0, z: 250 }, delay: 4000, enemyType: LeapEnemy },\r\n        { position: { x: -500, y: 0, z: 50 }, delay: 5000, enemyType: LeapEnemy },\r\n        { position: { x: -500, y: 0, z: 50 }, delay: 7500, enemyType: BigknifeEnemy },\r\n        { position: { x: -500, y: 0, z: 250 }, delay: 8500, enemyType: BigknifeEnemy },\r\n      ],\r\n    },\r\n  ]\r\n}\r\n\r\nexport default Level","import { action, observable } from 'mobx'\r\nimport { MS_FRAME_SCALE } from './GameState'\r\n\r\nclass Camera {\r\n\r\n  @observable\r\n  position = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n  }\r\n\r\n  locked = false\r\n  followWidth = 370\r\n  screenRightEdge = 610\r\n  screenLeftEdge = 20\r\n\r\n  constructor( props ) {\r\n    this.gameState = props.gameState\r\n  }\r\n\r\n  @action\r\n  step( deltaTime ) {\r\n    this.gameState.players.forEach( player => {\r\n      if ( player.position.x > this.position.x + this.followWidth && !this.locked ) {\r\n        // Move rightwards with the player, so they don't get further away\r\n        this.position.x += Math.max( 0, player.velocity.x * deltaTime * MS_FRAME_SCALE )\r\n      }\r\n    })\r\n\r\n    this.position.x = Math.min( this.gameState.level.maxCamPosition, this.position.x )\r\n  }\r\n\r\n  lock() {\r\n    this.locked = true\r\n  }\r\n\r\n  unlock() {\r\n    this.locked = false\r\n  }\r\n}\r\n\r\nexport default Camera","import { createMemoryHistory } from \"history\";\r\n\r\nexport default createMemoryHistory();","import SelinaPlayer from './SelinaPlayer'\r\nimport GraysonPlayer from './GraysonPlayer'\r\nimport Level from './Level'\r\nimport Camera from './Camera'\r\nimport { action, observable, computed } from 'mobx'\r\nimport GameObjectTypes from '../shared/enum/GameObjectTypes'\r\nimport history from '../shared/history'\r\nimport RootStore from './RootStore'\r\nimport PlayerTypes from '../shared/enum/PlayerTypes'\r\n\r\n\r\nconst PlayerTypesToClass = {\r\n  [ PlayerTypes.selina ]: SelinaPlayer,\r\n  [ PlayerTypes.grayson ]: GraysonPlayer,\r\n}\r\n\r\nexport const MS_FRAME_SCALE = 60 / 1000\r\n\r\nclass GameState {\r\n\r\n  @observable\r\n  gameObjects = []\r\n\r\n  gameObjectsToRemove = []\r\n\r\n  constructor() {\r\n    this.stepGameLoop = this.stepGameLoop.bind(this)\r\n  }\r\n\r\n  addPlayer( PlayerType, position = { x: 0, y: 0, z: 0} ) {\r\n    this.addGameObject( PlayerType, {\r\n      position,\r\n      playerNumber: this.players.length,\r\n    })\r\n  }\r\n\r\n  addGameObject( GameObjectType, props ) {\r\n    this.gameObjects.push( new GameObjectType({\r\n      level: this.level,\r\n      camera: this.camera,\r\n      gameState: this,\r\n      ...props\r\n    }))\r\n  }\r\n\r\n  @action\r\n  beginGame() {\r\n    this.gameObjects = []\r\n    this.gameObjectsToRemove = []\r\n    this.level = new Level()\r\n    this.camera = new Camera({ gameState: this })\r\n\r\n    //Players\r\n    const { selectedPlayerTypes } = RootStore.playerSelection\r\n    selectedPlayerTypes.forEach(( playerType, i ) => {\r\n      const x = 350 + 100 * i\r\n      const z = 100 + 100 * (i%2)\r\n      this.addPlayer( PlayerTypesToClass[ playerType ], { x, y: 0, z })\r\n    })\r\n\r\n    //Level\r\n    this.level.startingGameObjects.forEach( objectDef => {\r\n      const {\r\n        objectType,\r\n        ...props\r\n      } = objectDef\r\n\r\n      this.addGameObject( objectType, props )\r\n    })\r\n\r\n    this.startGameLoop()\r\n  }\r\n\r\n  @action\r\n  startGameLoop() {\r\n    this.lastStepTime = performance.now()\r\n    this.stepGameLoop()\r\n  }\r\n\r\n  @action\r\n  stopGameLoop() {\r\n    cancelAnimationFrame(this._gameLoopRAF)\r\n  }\r\n\r\n  @action\r\n  stepGameLoop() {\r\n    // calculate delta time\r\n    const now = performance.now()\r\n    const deltaTime = ( now - this.lastStepTime ) || 0\r\n    this.lastStepTime = now\r\n\r\n    this.gameObjects.forEach( gameObject => gameObject.step( deltaTime ))\r\n    \r\n    this.camera.step( deltaTime )\r\n\r\n    if ( this.isGameOver()) {\r\n      this.onGameOver()\r\n    }\r\n\r\n    this.cleanupRemovedGameObjects()\r\n\r\n    this._gameLoopRAF = requestAnimationFrame(this.stepGameLoop)\r\n  }\r\n\r\n  removeGameObject( gameObject ) {\r\n    this.gameObjectsToRemove.push( gameObject.id )\r\n  }\r\n\r\n  cleanupRemovedGameObjects() {\r\n    this.gameObjectsToRemove.forEach( id => {\r\n      const index = this.gameObjects.findIndex( gameObject => gameObject.id === id )\r\n      this.gameObjects.splice(index, 1)\r\n    })\r\n    this.gameObjectsToRemove = []\r\n  }\r\n\r\n  @computed\r\n  get players() {\r\n    return this.gameObjects.filter( g => g.type === GameObjectTypes.Player )\r\n  }\r\n\r\n  isGameOver() {\r\n    return this.players.length > 0 && this.players.every( p => p.isDead )\r\n  }\r\n\r\n  onGameOver() {\r\n    if ( !this.gameOverTimer ) {\r\n      this.gameOverTimer = setTimeout(() => {\r\n        history.push('/')\r\n      }, 2500)\r\n    }\r\n  }\r\n\r\n  getGameObjectsInsideBox( box ) { \r\n    return this.gameObjects.filter( gameObject => {\r\n      \r\n      return (\r\n        gameObject.position.x + gameObject.collisionWidth >= box.x.min &&\r\n        gameObject.position.x <= box.x.max &&\r\n        gameObject.position.y + gameObject.collisionHeight >= box.y.min &&\r\n        gameObject.position.y + gameObject.collisionBottom <= box.y.max &&\r\n        gameObject.position.z >= box.z.min &&\r\n        gameObject.position.z <= box.z.max\r\n      )\r\n    })\r\n  }\r\n}\r\n\r\nexport default GameState\r\n","import { action, observable, computed } from 'mobx'\r\n\r\nclass PlayerSelection {\r\n\r\n  @observable\r\n  playerCount = 0\r\n\r\n  @observable\r\n  selectedPlayerTypes = []\r\n\r\n  @action\r\n  setNumberOfPlayers( count ) {\r\n    this.playerCount = count\r\n    this.selectedPlayerTypes = []\r\n  }\r\n\r\n  @action\r\n  selectPlayer( playerType ) {\r\n    this.selectedPlayerTypes.push( playerType )\r\n  }\r\n\r\n  @computed\r\n  get hasSelectedAllPlayers() {\r\n    return this.selectedPlayerTypes.length === this.playerCount\r\n  }\r\n}\r\n\r\nexport default PlayerSelection","import GameState from './GameState'\r\nimport PlayerSelection from './PlayerSelection'\r\n\r\nexport default {\r\n  gameState: new GameState(),\r\n  playerSelection: new PlayerSelection(),\r\n}","import React from 'react';\r\n// import { withRouter } from 'react-router-dom'\r\n// import { inject, observer } from 'mobx-react'\r\n\r\nclass Memeapi extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            randomImg: \"http://i.imgflip.com/1bij.jpg\",\r\n            allMemeImgs: []\r\n\r\n        }\r\n        this.handleChange=this.handleChange.bind(this)\r\n        this.handleSubmit=this.handleSubmit.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        fetch(\"https://api.imgflip.com/get_memes\")\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                const {memes} = response.data\r\n                \r\n                this.setState({ allMemeImgs: memes })\r\n            })\r\n    }\r\n    handleChange(event) {\r\n        const {name, value} = event.target\r\n        this.setState({ [name]: value })\r\n        \r\n    }\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        const randNum = Math.floor(Math.random() * this.state.allMemeImgs.length)\r\n        const randMemeImg = this.state.allMemeImgs[randNum].url\r\n        this.setState({randomImg:randMemeImg})\r\n    }\r\n\r\n        render() {\r\n            return(\r\n                <div>\r\n                    <form className=\"meme-form\">\r\n                        \r\n                        <button onClick={this.handleSubmit}>Why so serious?</button>\r\n                    </form>\r\n                    <div className=\"meme\">\r\n                        <img src={this.state.randomImg} alt=\"\" />\r\n                    </div>                   \r\n                </div>\r\n            )\r\n        }\r\n    \r\n}\r\nexport default Memeapi","import React, { Component } from 'react';\r\nimport GameRenderer from './components/GameRenderer'\r\nimport TitleScreen from './components/TitleScreen'\r\nimport PlayerSelectScreen from './components/PlayerSelectScreen'\r\nimport RootStore from './state/RootStore'\r\nimport { Provider } from 'mobx-react'\r\nimport Memeapi from './components/Memeapi'\r\n\r\nimport {\r\n  BrowserRouter,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom'\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className='App'>\r\n        <Provider {...RootStore} >\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route exact path='/' component={TitleScreen}/>\r\n              <Route path='/game' component={GameRenderer}/>\r\n              <Route path='/player_select' component={PlayerSelectScreen}/>\r\n              <Route path='/memeapi' component={Memeapi}/>\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Provider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.1/8 is considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n  \r\n  export function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(registration => {\r\n        registration.unregister();\r\n      });\r\n    }\r\n  }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}