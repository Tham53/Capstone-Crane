(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,i){},190:function(e,t,i){"use strict";i.r(t);var a,n,o,r,c,s,l,p,y,u,b,m,h,O,j,g,f,d,x,v,k,w,z,T,D,S,A,P,E,R,G,M,C,F,W,N,L,H,U,B,_,X,K,V,I,J,Z,q,$,Q,Y,ee,te,ie,ae,ne,oe,re,ce,se,le,pe,ye,ue,be,me,he,Oe,je,ge,fe,de,xe,ve,ke,we,ze,Te,De,Se,Ae,Pe,Ee,Re,Ge,Me,Ce,Fe,We,Ne,Le,He,Ue,Be,_e,Xe,Ke,Ve,Ie,Je,Ze,qe,$e,Qe,Ye,et,tt,it,at,nt,ot,rt,ct,st,lt,pt,yt,ut,bt,mt,ht,Ot=i(3),jt=i.n(Ot),gt=i(21),ft=i.n(gt),dt=(i(78),i(6)),xt=i(10),vt=i(7),kt=i(5),wt=i(8),zt=(i(79),i(13)),Tt=[{left:65,right:68,up:87,down:83,jump:32,attack:13},{left:37,right:39,up:38,down:40,jump:18,attack:191}],Dt=(i(81),{left:"left",right:"right"}),St=Object(zt.c)(a=function(e){function t(){return Object(dt.a)(this,t),Object(vt.a)(this,Object(kt.a)(t).apply(this,arguments))}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"render",value:function(){var e=this.props.gameObject,t=e.position,i=t.x,a=t.y,n=t.z,o=e.spritePosition,r=o.x,c=o.y,s=e.direction,l=e.spriteUrl,p=e.screenWidth,y=e.screenHeight,u=e.spriteWidth,b=e.spriteHeight,m=e.spriteScale,h=e.onGround,O=e.isForeground,j=e.hasShadow,g=s===Dt.left?-1:1,f=Math.floor(O?1e4:9999-Math.max(0,n)),d="".concat(-r,"px ").concat(-c,"px"),x="url(".concat(l,")"),v="".concat(m),k="translate3d(".concat(i,"px, ").concat(-n,"px, 0)"),w="translate3d(0, ".concat(-a,"px, 0) scaleX(").concat(g,")");return l?jt.a.createElement("div",{className:"game-object-renderer",style:{zIndex:f,transform:k,width:"".concat(p,"px"),height:"".concat(y,"px")}},j&&jt.a.createElement("div",{className:"game-object-shadow",style:{display:h?"none":"block"}}),jt.a.createElement("div",{className:"sprite",style:{transform:w,backgroundPosition:d,backgroundImage:x,backgroundSize:v,width:"".concat(u,"px"),height:"".concat(b,"px"),left:s===Dt.right?0:"auto",right:s===Dt.left?0:"auto"}})):null}}]),t}(jt.a.Component))||a,At=St,Pt=Object(zt.c)((o=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).onKeyDown=function(e){var t=Tt[i.props.gameObject.playerNumber];switch(e.keyCode){case t.left:i.props.gameObject.onLeft(),e.preventDefault();break;case t.right:i.props.gameObject.onRight(),e.preventDefault();break;case t.up:i.props.gameObject.onUp(),e.preventDefault();break;case t.down:i.props.gameObject.onDown(),e.preventDefault();break;case t.jump:i.props.gameObject.onJump(),e.preventDefault();break;case t.attack:i.props.gameObject.onAttack(),e.preventDefault()}},i.onKeyUp=function(e){var t=Tt[i.props.gameObject.playerNumber];switch(e.keyCode){case t.left:i.props.gameObject.offLeft(),e.preventDefault();break;case t.right:i.props.gameObject.offRight(),e.preventDefault();break;case t.up:i.props.gameObject.offUp(),e.preventDefault();break;case t.down:i.props.gameObject.offDown(),e.preventDefault()}},i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}}]),t}(At),n=o))||n,Et=Pt,Rt=(i(82),Object(zt.c)(r=function(e){function t(){return Object(dt.a)(this,t),Object(vt.a)(this,Object(kt.a)(t).apply(this,arguments))}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"render",value:function(){var e=this.props.level.backgroundUrl,t=this.props.camera;return jt.a.createElement("div",{className:"level-renderer",style:{transform:"translate3d(".concat(-t.position.x,"px, 0, 0)")}},jt.a.createElement("img",{className:"level-background",src:e,alt:""}),jt.a.createElement("div",{className:"level-game-objects"},this.props.children))}}]),t}(jt.a.Component))||r),Gt=Rt,Mt=(i(83),i(71)),Ct=(i(84),Object(zt.c)(c=function(e){function t(){return Object(dt.a)(this,t),Object(vt.a)(this,Object(kt.a)(t).apply(this,arguments))}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"render",value:function(){var e=this.props.player,t=e.name,i=e.courage,a=e.kills;return jt.a.createElement("div",{className:"player-hud"},jt.a.createElement("div",{className:"name"},t),jt.a.createElement("div",{className:"kills"},a),jt.a.createElement("div",{className:"courage-bar"},Object(Mt.a)(Array(Math.min(i,12))).map(function(e,t){return jt.a.createElement("div",{className:"courage",key:t})})))}}]),t}(jt.a.Component))||c),Ft=Ct,Wt=function(e){function t(){return Object(dt.a)(this,t),Object(vt.a)(this,Object(kt.a)(t).apply(this,arguments))}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"render",value:function(){var e=this.props.players;return jt.a.createElement("div",{className:"hud"},e.map(function(e){return jt.a.createElement(Ft,{key:e.id,player:e})}),jt.a.createElement("img",{className:"logo",src:"/assets/images/ui/hud_logo.png",alt:"logo"}))}}]),t}(jt.a.Component),Nt=Wt,Lt={GameObject:"GameObject",Player:"Player",Enemy:"Enemy"},Ht=(s=Object(zt.b)("gameState"),s(l=Object(zt.c)(l=function(e){function t(e){var i;return Object(dt.a)(this,t),(i=Object(vt.a)(this,Object(kt.a)(t).call(this,e))).props.gameState.beginGame(),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"componentWillUnmount",value:function(){this.props.gameState.stopGameLoop()}},{key:"render",value:function(){var e=this.props.gameState,t=e.gameObjects,i=e.level,a=e.camera;return jt.a.createElement("div",{className:"GameRenderer"},jt.a.createElement(Gt,{level:i,camera:a},t.map(function(e){var t=e.type===Lt.Player?Et:At;return jt.a.createElement(t,{key:e.id,gameObject:e})})),jt.a.createElement(Nt,{players:this.props.gameState.players}))}}]),t}(jt.a.Component))||l)||l),Ut=Ht,Bt=i(195),_t=(i(85),i(26)),Xt=i.n(_t),Kt=i(192),Vt=(p=Object(zt.b)("playerSelection"),p((u=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).state={selectedOption:null},i.onSelectOnePlayer=function(){return i.selectNumberOfPlayers(1)},i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"selectNumberOfPlayers",value:function(e){var t=this;this.setState({selectedOption:e}),this.props.playerSelection.setNumberOfPlayers(e),this.nextScreenTimeout=setTimeout(function(){t.props.history.push("/player_select")},1500)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.nextScreenTimeout)}},{key:"render",value:function(){var e=this.state.selectedOption;return jt.a.createElement("div",{className:"TitleScreen"},jt.a.createElement("img",{src:"/assets/images/ui/title_screen.png",className:"title-image",alt:""}),jt.a.createElement("div",{className:"start-button-container"},jt.a.createElement("div",{className:Xt()("start-button",{selected:1===e}),onClick:this.onSelectOnePlayer},jt.a.createElement("div",{className:"indicator"}),jt.a.createElement("span",null,"Start!")),jt.a.createElement(Kt.a,{to:"/memeapi"},jt.a.createElement("span",null,"Why so serious?")),jt.a.createElement("div",{className:"instructions"},jt.a.createElement("span",{className:"hover-hint"},"Controls"),jt.a.createElement("div",{className:"instructions-text"},"WASD to Move, Enter to Attack, Space to Jump",jt.a.createElement("br",null)))))}}]),t}(jt.a.Component),y=u))||y),It=Object(Bt.a)(Vt),Jt=(i(89),{selina:"selina",grayson:"grayson"}),Zt=2200,qt=(b=Object(zt.b)("playerSelection"),b(m=Object(zt.c)((h=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).state={currentlySelectingFor:0,canSelect:!0},i.selectPlayerType=function(e){i.props.playerSelection.selectPlayer(e),i.setState({canSelect:!1});var t=i.props.playerSelection.hasSelectedAllPlayers;i.nextTimeout=setTimeout(t?i.gotoGame:i.beginSelectingNextPlayer,Zt)},i.gotoGame=function(){i.props.history.push("/game")},i.beginSelectingNextPlayer=function(){i.setState({canSelect:!0,currentlySelectingFor:i.state.currentlySelectingFor+1})},i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.nextTimeout)}},{key:"render",value:function(){var e=this,t=this.state,i=t.currentlySelectingFor,a=t.canSelect,n=this.props.playerSelection.selectedPlayerTypes;return jt.a.createElement("div",{className:Xt()("PlayerSelectScreen",{canSelect:a})},jt.a.createElement("div",{className:"instructions"},"Selina or Grayson"),jt.a.createElement("div",{className:"player-types"},Object.values(Jt).map(function(t){var a=n[i]===t;return jt.a.createElement("div",{className:Xt()("player-type",{selected:a}),onClick:function(){return e.selectPlayerType(t)},key:t},jt.a.createElement("img",{className:"player-image",src:"/assets/images/ui/".concat(t,"_player_select.png"),alt:t}),jt.a.createElement("img",{className:"indicator",src:"/assets/images/ui/select_indicator_".concat(i,".png"),alt:""}))})))}}]),t}(jt.a.Component),m=h))||m)||m),$t=Object(Bt.a)(qt),Qt=i(72),Yt=i(18),ei=i(4),ti=i(2),ii=(i(12),i(20)),ai=i(1),ni=i(11),oi=i(0),ri=i(69),ci=i.n(ri),si=(O=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(dt.a)(this,e),this.type=Lt.GameObject,this.id=ci.a.v4(),this.movementFreezes={},Object(ei.a)(this,"position",j,this),Object(ei.a)(this,"velocity",g,this),Object(ei.a)(this,"freefall",f,this),Object(ei.a)(this,"spritePosition",d,this),Object(ei.a)(this,"spriteUrl",x,this),Object(ei.a)(this,"spriteScale",v,this),Object(ei.a)(this,"spriteWidth",k,this),Object(ei.a)(this,"spriteHeight",w,this),Object(ei.a)(this,"screenWidth",z,this),Object(ei.a)(this,"screenHeight",T,this),Object(ei.a)(this,"isForeground",D,this),Object(ei.a)(this,"isAffectedByGravity",S,this),Object(ei.a)(this,"hasShadow",A,this),this.animationState={trackName:null,startTime:0},Object(ei.a)(this,"direction",P,this),this.removeFromGame=function(){t.gameState.removeGameObject(t)},i.position&&(this.position=Object(Yt.a)({},i.position)),this.level=i.level,this.camera=i.camera,this.gameState=i.gameState}return Object(xt.a)(e,[{key:"step",value:function(e){this.inFreefall()?this.stepFreefall(e):this.isMovementFrozen()||this.isDead||this.stepMovement(e),this.stepAnimation()}},{key:"integrateVelocity",value:function(e,t){!this.onGround&&this.isAffectedByGravity&&(e.y-=.6*t*Hi),this.position.x+=e.x*t*Hi,this.position.y+=e.y*t*Hi,this.position.z+=e.z*t*Hi,this.position.y<=0&&e.y<0&&(this.position.y=0,e.y=0,this.onReturnToGround())}},{key:"stepFreefall",value:function(e){var t=this;this.integrateVelocity(this.freefall.velocity,e),this.freefall&&this.freefall.damage&&this.gameState.getGameObjectsInsideBox(this.getBoundingBox()).forEach(function(e){e!==t&&e.canTakeDamage&&!e.isDead&&e.takeDamage(t.freefall.damage,t.position.x<e.position.x?Dt.left:Dt.right,t)})}},{key:"stepMovement",value:function(e){this.integrateVelocity(this.velocity,e)}},{key:"stepAnimation",value:function(){var e=this.animationState,t=e.trackName,i=e.startTime;if(t){var a,n=this.animationTracks[t],o=n.duration,r=n.frames,c=n.loopStartFrame,s=n.introDuration,l=performance.now();a=c?l-i<=s?Math.floor((l-i)/s*c):c+Math.floor((l-i-s)/o%1*(r.length-c)):Math.floor((l-i)/o%1*r.length),this.spritePosition.x=r[a].x,this.spritePosition.y=r[a].y,this.spriteWidth=r[a].width||this.screenWidth,this.spriteHeight=r[a].height||this.screenHeight}}},{key:"onReturnToGround",value:function(){this.freefall=null}},{key:"setAnimation",value:function(e){this.animationState.trackName!==e&&(this.animationState={trackName:e,startTime:performance.now()})}},{key:"freezeMovement",value:function(e,t){this.movementFreezes[t]=performance.now()+e}},{key:"clearMovementFreezes",value:function(){this.movementFreezes={}}},{key:"isMovementFrozen",value:function(){var e=performance.now();return Object.values(this.movementFreezes).some(function(t){return t>=e})}},{key:"setFreefall",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.velocity.y=0,this.freefall={velocity:e,damage:t}}},{key:"inFreefall",value:function(){return!!this.freefall}},{key:"getBoundingBox",value:function(){return{x:{min:this.position.x,max:this.position.x+this.collisionWidth},y:{min:this.position.y+this.collisionBottom,max:this.position.y+this.collisionHeight},z:{min:this.position.z-this.collisionDepth,max:this.position.z+this.collisionDepth}}}},{key:"onGround",get:function(){return 0===this.position.y}}]),e}(),j=Object(ti.a)(O.prototype,"position",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:0,y:0,z:0}}}),g=Object(ti.a)(O.prototype,"velocity",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:0,y:0,z:0}}}),f=Object(ti.a)(O.prototype,"freefall",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=Object(ti.a)(O.prototype,"spritePosition",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:0,y:0}}}),x=Object(ti.a)(O.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=Object(ti.a)(O.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=Object(ti.a)(O.prototype,"spriteWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=Object(ti.a)(O.prototype,"spriteHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=Object(ti.a)(O.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=Object(ti.a)(O.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(ti.a)(O.prototype,"isForeground",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(ti.a)(O.prototype,"isAffectedByGravity",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=Object(ti.a)(O.prototype,"hasShadow",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=Object(ti.a)(O.prototype,"direction",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dt.right}}),Object(ti.a)(O.prototype,"step",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"step"),O.prototype),Object(ti.a)(O.prototype,"integrateVelocity",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"integrateVelocity"),O.prototype),Object(ti.a)(O.prototype,"stepFreefall",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"stepFreefall"),O.prototype),Object(ti.a)(O.prototype,"stepMovement",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"stepMovement"),O.prototype),Object(ti.a)(O.prototype,"stepAnimation",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"stepAnimation"),O.prototype),Object(ti.a)(O.prototype,"onGround",[oi.e],Object.getOwnPropertyDescriptor(O.prototype,"onGround"),O.prototype),Object(ti.a)(O.prototype,"onReturnToGround",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"onReturnToGround"),O.prototype),Object(ti.a)(O.prototype,"setAnimation",[oi.d],Object.getOwnPropertyDescriptor(O.prototype,"setAnimation"),O.prototype),O),li=25,pi=30,yi=15,ui=(E=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"courage",R,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"damageDealt",G,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"kills",M,Object(ai.a)(Object(ai.a)(i))),i.canTakeDamage=!0,i.isDead=!1,i.getAttackBox=function(){var e,t;return i.direction===Dt.right?(e=i.position.x+i.collisionWidth+li,t=i.position.x+i.collisionWidth+pi):(t=i.position.x-li,e=i.position.x-pi),{x:{min:e,max:t},y:{min:i.position.y,max:i.position.y+i.collisionHeight},z:{min:i.position.z-yi,max:i.position.z+yi}}},Object(ei.a)(i,"doAttackDamage",C,Object(ai.a)(Object(ai.a)(i))),i.onDie=e.onDie,i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"attack",value:function(e,t){if(!this.isMovementFrozen()&&this.onGround){this.attacking=!0,this.setAnimation(e);var i=this.animationTracks[e].duration;this.freezeMovement(i,"attack"),this.attackDamageTimeout=setTimeout(this.doAttackDamage,t)}}},{key:"takeDamage",value:function(e,t,i){this.isCurrentlyTakingDamage||(this.courage-=e,i.damageDealt+=e,this.clearMovementFreezes(),clearTimeout(this.attackDamageTimeout),this.isCurrentlyTakingDamage=!0,this.setAnimation("take_damage"),this.direction=t,this.setFreefall({x:t===Dt.left?4:-4,y:5,z:0}),this.courage<=0&&(this.die(),i.kills+=1))}},{key:"onReturnToGround",value:function(){Object(ni.a)(Object(kt.a)(t.prototype),"onReturnToGround",this).call(this),this.isCurrentlyTakingDamage=!1}},{key:"die",value:function(){this.setAnimation("dead"),this.isDead=!0,this.freefall.velocity.x*=1.5,this.freefall.velocity.y*=1.5,this.freefall.velocity.z*=1.5,this.onDie&&this.onDie()}}]),t}(si),R=Object(ti.a)(E.prototype,"courage",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),G=Object(ti.a)(E.prototype,"damageDealt",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=Object(ti.a)(E.prototype,"kills",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(ti.a)(E.prototype,"attack",[oi.d],Object.getOwnPropertyDescriptor(E.prototype,"attack"),E.prototype),C=Object(ti.a)(E.prototype,"doAttackDamage",[oi.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.getAttackBox();e.gameState.getGameObjectsInsideBox(t).forEach(function(t){t!==e&&t.canTakeDamage&&!t.isDead&&t.takeDamage(1,e.direction===Dt.right?Dt.left:Dt.right,e)})}}}),Object(ti.a)(E.prototype,"takeDamage",[oi.d],Object.getOwnPropertyDescriptor(E.prototype,"takeDamage"),E.prototype),Object(ti.a)(E.prototype,"onReturnToGround",[oi.d],Object.getOwnPropertyDescriptor(E.prototype,"onReturnToGround"),E.prototype),Object(ti.a)(E.prototype,"die",[oi.d],Object.getOwnPropertyDescriptor(E.prototype,"die"),E.prototype),E),bi=(F=function(e){function t(e){var i;return Object(dt.a)(this,t),(i=Object(vt.a)(this,Object(kt.a)(t).call(this,e))).type=Lt.Player,i.keyState={up:!1,down:!1,left:!1,right:!1},i.attackCount=0,i.commonAnimationTracks={standing:{frames:[{x:15,y:0}],duration:1e3},walking:{frames:[{x:216,y:0},{x:280,y:0},{x:216,y:0},{x:154,y:0}],duration:600},in_air:{frames:[{x:358,y:0},{x:432,y:0},{x:500,y:0},{x:580,y:0},{x:655,y:0}],loopStartFrame:1,introDuration:200,duration:400},take_damage:{frames:[{x:25,y:300}],duration:1e3},jump_kick:{frames:[{x:740,y:0,width:120}],duration:1e3},dead:{frames:[{x:105,y:300,width:80}],duration:1e3},dead_ground:{frames:[{x:180,y:290}],duration:1e3}},Object(ei.a)(i,"spriteScale",W,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",N,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",L,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionWidth",H,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionHeight",U,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionBottom",B,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionDepth",_,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"courage",X,Object(ai.a)(Object(ai.a)(i))),i.playerNumber=e.playerNumber,i.setAnimation("standing"),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"onRight",value:function(){this.keyState.right=!0,this.velocity.x=3}},{key:"offRight",value:function(){this.keyState.right=!1,this.velocity.x=this.keyState.left?-3:0}},{key:"onLeft",value:function(){this.keyState.left=!0,this.velocity.x=-3}},{key:"offLeft",value:function(){this.keyState.left=!1,this.velocity.x=this.keyState.right?3:0}},{key:"onUp",value:function(){this.keyState.up=!0,this.velocity.z=3}},{key:"offUp",value:function(){this.keyState.up=!1,this.velocity.z=this.keyState.down?-3:0}},{key:"onDown",value:function(){this.keyState.down=!0,this.velocity.z=-3}},{key:"offDown",value:function(){this.keyState.down=!1,this.velocity.z=this.keyState.up?3:0}},{key:"onJump",value:function(){this.onGround&&!this.isMovementFrozen()&&(this.velocity.y=17,this.setAnimation("in_air"))}},{key:"onReturnToGround",value:function(){this.updateMovementAnimation(),Object(ni.a)(Object(kt.a)(t.prototype),"onReturnToGround",this).call(this)}},{key:"updateMovementAnimation",value:function(){this.onGround?Object.values(this.keyState).some(function(e){return e})?this.setAnimation("walking"):this.isDead?this.setAnimation("dead_ground"):this.setAnimation("standing"):this.setAnimation("in_air")}},{key:"stepMovement",value:function(e){Object(ni.a)(Object(kt.a)(t.prototype),"stepMovement",this).call(this,e),this.updateMovementAnimation(),this.velocity.x<0?this.direction=Dt.left:this.velocity.x>0&&(this.direction=Dt.right)}},{key:"step",value:function(e){Object(ni.a)(Object(kt.a)(t.prototype),"step",this).call(this,e),this.position.z=Math.max(this.level.minZ,Math.min(this.level.maxZ,this.position.z)),this.position.x=Math.max(this.camera.position.x+this.camera.screenLeftEdge,this.position.x),this.position.x=Math.min(this.camera.position.x+this.camera.screenRightEdge,this.position.x)}},{key:"jumpKick",value:function(){this.isMovementFrozen()||this.inFreefall()||(this.setAnimation("jump_kick"),this.setFreefall({x:this.direction===Dt.right?8:-8,y:-2,z:0},1))}},{key:"onAttack",value:function(){if(this.onGround){var e=this.attackCount%2===0?"attack1":"attack2";this.attack(e,80),this.attackCount+=1}else this.jumpKick()}}]),t}(ui),W=Object(ti.a)(F.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"870px"}}),N=Object(ti.a)(F.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 132}}),L=Object(ti.a)(F.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 68}}),H=Object(ti.a)(F.prototype,"collisionWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),U=Object(ti.a)(F.prototype,"collisionHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),B=Object(ti.a)(F.prototype,"collisionBottom",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),_=Object(ti.a)(F.prototype,"collisionDepth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),X=Object(ti.a)(F.prototype,"courage",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),Object(ti.a)(F.prototype,"onRight",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onRight"),F.prototype),Object(ti.a)(F.prototype,"offRight",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"offRight"),F.prototype),Object(ti.a)(F.prototype,"onLeft",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onLeft"),F.prototype),Object(ti.a)(F.prototype,"offLeft",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"offLeft"),F.prototype),Object(ti.a)(F.prototype,"onUp",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onUp"),F.prototype),Object(ti.a)(F.prototype,"offUp",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"offUp"),F.prototype),Object(ti.a)(F.prototype,"onDown",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onDown"),F.prototype),Object(ti.a)(F.prototype,"offDown",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"offDown"),F.prototype),Object(ti.a)(F.prototype,"onJump",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onJump"),F.prototype),Object(ti.a)(F.prototype,"onReturnToGround",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onReturnToGround"),F.prototype),Object(ti.a)(F.prototype,"updateMovementAnimation",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"updateMovementAnimation"),F.prototype),Object(ti.a)(F.prototype,"stepMovement",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"stepMovement"),F.prototype),Object(ti.a)(F.prototype,"step",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"step"),F.prototype),Object(ti.a)(F.prototype,"jumpKick",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"jumpKick"),F.prototype),Object(ti.a)(F.prototype,"onAttack",[oi.d],Object.getOwnPropertyDescriptor(F.prototype,"onAttack"),F.prototype),F),mi=(K=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n))),Object(ei.a)(i,"spriteUrl",V,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"name",I,Object(ai.a)(Object(ai.a)(i))),i.animationTracks=Object(Yt.a)({},i.commonAnimationTracks,{attack1:{frames:[{x:15,y:132,height:160},{x:85,y:132,height:160,width:80},{x:156,y:132,height:160,width:130}],duration:300},attack2:{frames:[{x:287,y:132,height:160},{x:360,y:132,height:160,width:120},{x:465,y:132,height:160}],duration:300}}),i}return Object(wt.a)(t,e),t}(bi),V=Object(ti.a)(K.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/selina_player.png"}}),I=Object(ti.a)(K.prototype,"name",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Selina"}}),K),hi=(J=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n))),Object(ei.a)(i,"spriteUrl",Z,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"name",q,Object(ai.a)(Object(ai.a)(i))),i.animationTracks=Object(Yt.a)({},i.commonAnimationTracks,{attack1:{frames:[{x:15,y:132,height:160},{x:85,y:132,height:160,width:80},{x:156,y:132,height:160,width:130}],duration:300},attack2:{frames:[{x:287,y:132,height:160},{x:360,y:132,height:160,width:120},{x:465,y:132,height:160}],duration:300}}),i}return Object(wt.a)(t,e),t}(bi),Z=Object(ti.a)(J.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/grayson_player.png"}}),q=Object(ti.a)(J.prototype,"name",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Grayson"}}),J),Oi=function(e){function t(e){var i;return Object(dt.a)(this,t),(i=Object(vt.a)(this,Object(kt.a)(t).call(this,e))).triggered=!1,i.enemiesKilled=0,i.addEnemies=function(){i.enemies.forEach(function(e){setTimeout(function(){return i.addEnemy(e)},e.delay)}),i.respawnEvery&&i.playersStillCloseEnoughToRespawn()&&setTimeout(i.addEnemies,i.respawnEvery)},i.addEnemy=function(e){i.gameState.addGameObject(e.enemyType,{position:{x:e.position.x+i.position.x,y:e.position.y+i.position.y,z:e.position.z+i.position.z},onDie:i.onEnemyKilled})},i.onEnemyKilled=function(){i.enemiesKilled+=1,i.enemiesKilled===i.enemies.length&&i.locksCamera&&i.camera.unlock()},i.triggerX=e.triggerX,i.enemies=e.enemies,i.locksCamera=e.locksCamera,i.respawnEvery=e.respawnEvery,i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"stepMovement",value:function(e){this.camera.position.x>=this.triggerX&&(this.triggered||this.trigger()),Object(ni.a)(Object(kt.a)(t.prototype),"stepMovement",this).call(this,e)}},{key:"trigger",value:function(){this.triggered=!0,this.addEnemies(),this.locksCamera&&this.camera.lock()}},{key:"playersStillCloseEnoughToRespawn",value:function(){var e=this;return this.gameState.players.every(function(t){return t.position.x<=e.triggerX+800})}}]),t}(si),ji=($=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"spriteUrl",Q,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:4,y:8}],duration:400},broken:{frames:[{x:130,y:8},{x:230,y:8},{x:400,y:8},{x:8,y:235},{x:133,y:235},{x:283,y:235}],loopStartFrame:3,introDuration:300,duration:400}},Object(ei.a)(i,"spriteScale",Y,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",ee,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",te,Object(ai.a)(Object(ai.a)(i))),i.setAnimation("default"),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"trigger",value:function(){Object(ni.a)(Object(kt.a)(t.prototype),"trigger",this).call(this),this.setAnimation("broken")}}]),t}(Oi),Q=Object(ti.a)($.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/breaking_door.png"}}),Y=Object(ti.a)($.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"545px"}}),ee=Object(ti.a)($.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),te=Object(ti.a)($.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),$),gi=(ie=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"spriteUrl",ae,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:0,y:0},{x:0,y:128},{x:0,y:256}],duration:400}},Object(ei.a)(i,"spriteScale",ne,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",oe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",re,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"isForeground",ce,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"position",se,Object(ai.a)(Object(ai.a)(i))),i.setAnimation("default"),i}return Object(wt.a)(t,e),t}(si),ae=Object(ti.a)(ie.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/blood.png"}}),ne=Object(ti.a)(ie.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"auto 305%"}}),oe=Object(ti.a)(ie.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8e3}}),re=Object(ti.a)(ie.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 125}}),ce=Object(ti.a)(ie.prototype,"isForeground",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),se=Object(ti.a)(ie.prototype,"position",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:0,y:0,z:-10}}}),ie),fi=function(e,t){return e+Math.random()*(t-e)},di=3.5,xi=-4,vi=2,ki=(le=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"spriteUrl",pe,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:0,y:0}],duration:100}},Object(ei.a)(i,"spriteScale",ye,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",ue,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",be,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionWidth",me,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionHeight",he,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionDepth",Oe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionBottom",je,Object(ai.a)(Object(ai.a)(i))),i.setAnimation("default"),i.xVel=fi(di-vi,di+vi),i.zVel=xi,i.setFreefall({x:i.xVel,y:0,z:i.zVel},1),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"onReturnToGround",value:function(){Object(ni.a)(Object(kt.a)(t.prototype),"onReturnToGround",this).call(this),this.setFreefall({x:this.xVel,y:10,z:this.zVel},1)}},{key:"step",value:function(e){Object(ni.a)(Object(kt.a)(t.prototype),"step",this).call(this,e),this.position.z<=-100&&this.removeFromGame()}}]),t}(si),pe=Object(ti.a)(le.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/head.png"}}),ye=Object(ti.a)(le.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"100%"}}),ue=Object(ti.a)(le.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),be=Object(ti.a)(le.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),me=Object(ti.a)(le.prototype,"collisionWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),he=Object(ti.a)(le.prototype,"collisionHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),Oe=Object(ti.a)(le.prototype,"collisionDepth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),je=Object(ti.a)(le.prototype,"collisionBottom",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),le),wi=i(70),zi=i.n(wi),Ti=(ge=function(e){function t(e){var i;return Object(dt.a)(this,t),(i=Object(vt.a)(this,Object(kt.a)(t).call(this,e))).type=Lt.Enemy,i.animationTracks={walking:{frames:[{x:42,y:20},{x:114,y:20},{x:184,y:20},{x:114,y:20}],duration:700},attack:{frames:[{x:42,y:405},{x:120,y:402,width:120},{x:42,y:20}],duration:800},take_damage:{frames:[{x:52,y:560}],duration:1e3},dead:{frames:[{x:140,y:550,width:120}],duration:1e3},jump_kick:{frames:[{x:35,y:200},{x:170,y:150,width:150}],loopStartFrame:1,introDuration:200,duration:400},explode:{frames:[{x:400,y:460},{x:490,y:450,width:100},{x:0,y:0,width:1}],loopStartFrame:2,introDuration:200,duration:1e3}},Object(ei.a)(i,"spriteScale",fe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"spriteUrl",de,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionWidth",xe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",ve,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",ke,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionHeight",we,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionBottom",ze,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionDepth",Te,Object(ai.a)(Object(ai.a)(i))),i.longRangeAttackChance=.15,i.longRangeAttackTimeout=2e3,i.jumpKickVelocity={x:6,y:10,z:0},i.shortAttackRange=[0,10],i.longAttackRange=[20,300],i.distToMe=function(e){var t=i.position,a=t.x,n=t.z;return Math.pow(e.position.x-a,2)+Math.pow(e.position.z-n,2)},Object(ei.a)(i,"explode",De,Object(ai.a)(Object(ai.a)(i))),i.lastLongRangeAttackConsideredAt=0,i.setAnimation("walking"),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"updateTargetedPlayer",value:function(){var e=zi()(this.gameState.players.filter(function(e){return!e.isDead}),this.distToMe);e.length&&(!this.targetedPlayer||this.targetedPlayer.isDead?this.targetedPlayer=e[0]:this.distToMe(this.targetedPlayer)/this.distToMe(e[0])>=2&&(this.targetedPlayer=e[0]))}},{key:"getTargetPosition",value:function(){var e;return this.position.x<this.targetedPlayer.position.x?(this.direction=Dt.right,e=this.targetedPlayer.position.x-this.collisionWidth+10):this.position.x>this.targetedPlayer.position.x&&(this.direction=Dt.left,e=this.targetedPlayer.position.x+this.targetedPlayer.collisionWidth+-10),{x:e,z:this.targetedPlayer.position.z}}},{key:"moveTowardsTargetedPlayer",value:function(){this.setAnimation("walking");var e=this.getTargetPosition();this.position.x<e.x-10?this.velocity.x=2.4:this.position.x>e.x+10?this.velocity.x=-2.4:this.velocity.x=0,this.position.z<e.z-10?this.velocity.z=2.4:this.position.z>e.z+10?this.velocity.z=-2.4:this.velocity.z=0}},{key:"xDistanceToTarget",value:function(){return Math.abs(this.getTargetPosition().x-this.position.x)}},{key:"shouldDoLongRangeAttack",value:function(){var e=performance.now(),t=this.xDistanceToTarget();if(this.lastLongRangeAttackConsideredAt+this.longRangeAttackTimeout<e)return this.lastLongRangeAttackConsideredAt=e,Math.random()<=this.longRangeAttackChance&&t>=this.longAttackRange[0]&&t<=this.longAttackRange[1]&&0===this.velocity.z}},{key:"shouldDoShortRangeAttack",value:function(){var e=this.xDistanceToTarget();return e>=this.shortAttackRange[0]&&e<=this.shortAttackRange[1]&&0===this.velocity.z}},{key:"doShortRangeAttack",value:function(){this.attack("attack",350)}},{key:"doLongRangeAttack",value:function(){this.setAnimation("jump_kick"),this.setFreefall({x:this.direction===Dt.right?this.jumpKickVelocity.x:-this.jumpKickVelocity.x,y:this.jumpKickVelocity.y,z:this.jumpKickVelocity.z},1)}},{key:"stepMovement",value:function(e){this.updateTargetedPlayer(),this.moveTowardsTargetedPlayer(),this.shouldDoShortRangeAttack()?this.doShortRangeAttack():this.shouldDoLongRangeAttack()&&this.doLongRangeAttack(),Object(ni.a)(Object(kt.a)(t.prototype),"stepMovement",this).call(this,e)}},{key:"onReturnToGround",value:function(){this.isDead&&setTimeout(this.explode,500),Object(ni.a)(Object(kt.a)(t.prototype),"onReturnToGround",this).call(this)}}]),t}(ui),fe=Object(ti.a)(ge.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"3200px"}}),de=Object(ti.a)(ge.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/enemy.png"}}),xe=Object(ti.a)(ge.prototype,"collisionWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64}}),ve=Object(ti.a)(ge.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 68}}),ke=Object(ti.a)(ge.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 132}}),we=Object(ti.a)(ge.prototype,"collisionHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),ze=Object(ti.a)(ge.prototype,"collisionBottom",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Te=Object(ti.a)(ge.prototype,"collisionDepth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Object(ti.a)(ge.prototype,"moveTowardsTargetedPlayer",[oi.d],Object.getOwnPropertyDescriptor(ge.prototype,"moveTowardsTargetedPlayer"),ge.prototype),Object(ti.a)(ge.prototype,"doShortRangeAttack",[oi.d],Object.getOwnPropertyDescriptor(ge.prototype,"doShortRangeAttack"),ge.prototype),Object(ti.a)(ge.prototype,"doLongRangeAttack",[oi.d],Object.getOwnPropertyDescriptor(ge.prototype,"doLongRangeAttack"),ge.prototype),Object(ti.a)(ge.prototype,"stepMovement",[oi.d],Object.getOwnPropertyDescriptor(ge.prototype,"stepMovement"),ge.prototype),Object(ti.a)(ge.prototype,"onReturnToGround",[oi.d],Object.getOwnPropertyDescriptor(ge.prototype,"onReturnToGround"),ge.prototype),De=Object(ti.a)(ge.prototype,"explode",[oi.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setAnimation("explode")}}}),ge),Di=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).longRangeAttackChance=.6,i.longRangeAttackTimeout=2e3,i.jumpKickVelocity={x:4,y:16,z:0},i.shortAttackRange=[0,10],i.longAttackRange=[25,250],i.animationTracks={walking:{frames:[{x:1500,y:20,width:80},{x:1590,y:20},{x:1690,y:20},{x:1590,y:20}],duration:700},attack:{frames:[{x:1500,y:202,width:80},{x:1590,y:200,width:120}],duration:600},take_damage:{frames:[{x:1500,y:560}],duration:1e3},dead:{frames:[{x:1590,y:550,width:120}],duration:1e3},jump_kick:{frames:[{x:1500,y:370},{x:1590,y:360,width:120}],loopStartFrame:1,introDuration:150,duration:400},explode:{frames:[{x:400,y:460},{x:490,y:450,width:100},{x:0,y:0,width:1}],loopStartFrame:2,introDuration:200,duration:1e3}},i}return Object(wt.a)(t,e),t}(Ti),Si=(Se=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).longRangeAttackChance=.75,i.longRangeAttackTimeout=1500,i.shortAttackRange=[0,10],i.longAttackRange=[25,250],Object(ei.a)(i,"throwProjectile",Ae,Object(ai.a)(Object(ai.a)(i))),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"doLongRangeAttack",value:function(){var e=this.animationTracks.throw.duration;this.setAnimation("throw"),this.freezeMovement(e,"throw");this.throwTimeout=setTimeout(this.throwProjectile,350)}},{key:"takeDamage",value:function(e,i,a){clearTimeout(this.throwTimeout),Object(ni.a)(Object(kt.a)(t.prototype),"takeDamage",this).call(this,e,i,a)}}]),t}(Ti),Object(ti.a)(Se.prototype,"doLongRangeAttack",[oi.d],Object.getOwnPropertyDescriptor(Se.prototype,"doLongRangeAttack"),Se.prototype),Ae=Object(ti.a)(Se.prototype,"throwProjectile",[oi.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.direction===Dt.right?e.rightThrowOffset:e.leftThrowOffset;e.gameState.addGameObject(e.projectileType,{position:{x:e.position.x+t,y:e.position.y+e.throwHeight,z:e.position.z},direction:e.direction,parentEnemy:e})}}}),Object(ti.a)(Se.prototype,"takeDamage",[oi.d],Object.getOwnPropertyDescriptor(Se.prototype,"takeDamage"),Se.prototype),Se),Ai=(Pe=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"isAffectedByGravity",Ee,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"hasShadow",Re,Object(ai.a)(Object(ai.a)(i))),i.lifetime=1500,i.parentEnemy=e.parentEnemy,i.setAnimation("default"),i.direction=e.direction,i.velocity.x=i.direction===Dt.right?i.speed:-i.speed,i.lifetimeTimeout=setTimeout(i.removeFromGame,i.lifetime),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"stepMovement",value:function(e){var i=this;Object(ni.a)(Object(kt.a)(t.prototype),"stepMovement",this).call(this,e),this.gameState.getGameObjectsInsideBox(this.getBoundingBox()).forEach(function(e){e!==i&&e.canTakeDamage&&!e.isDead&&e!==i.parentEnemy&&(e.takeDamage(1,i.position.x<e.position.x?Dt.left:Dt.right,i),clearTimeout(i.lifetimeTimeout),i.removeFromGame())})}}]),t}(si),Ee=Object(ti.a)(Pe.prototype,"isAffectedByGravity",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=Object(ti.a)(Pe.prototype,"hasShadow",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe),Pi=(Ge=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n))),Object(ei.a)(i,"spriteUrl",Me,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:1410,y:238}],duration:100}},Object(ei.a)(i,"spriteScale",Ce,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",Fe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",We,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionWidth",Ne,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionHeight",Le,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionDepth",He,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionBottom",Ue,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"speed",Be,Object(ai.a)(Object(ai.a)(i))),i}return Object(wt.a)(t,e),t}(Ai),Me=Object(ti.a)(Ge.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/enemy.png"}}),Ce=Object(ti.a)(Ge.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"3200px"}}),Fe=Object(ti.a)(Ge.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),We=Object(ti.a)(Ge.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ne=Object(ti.a)(Ge.prototype,"collisionWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),Le=Object(ti.a)(Ge.prototype,"collisionHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),He=Object(ti.a)(Ge.prototype,"collisionDepth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Ue=Object(ti.a)(Ge.prototype,"collisionBottom",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Be=Object(ti.a)(Ge.prototype,"speed",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),Ge),Ei=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).longRangeAttackChance=.75,i.longRangeAttackTimeout=1500,i.shortAttackRange=[0,10],i.longAttackRange=[25,250],i.projectileType=Pi,i.throwHeight=65,i.leftThrowOffset=-40,i.rightThrowOffset=60,i.animationTracks={walking:{frames:[{x:1145,y:20},{x:1220,y:20},{x:1280,y:20},{x:1220,y:20}],duration:700},attack:{frames:[{x:1145,y:20},{x:1150,y:350,width:120}],duration:600},take_damage:{frames:[{x:1145,y:510}],duration:1e3},dead:{frames:[{x:1240,y:490,width:120}],duration:1e3},explode:{frames:[{x:400,y:460},{x:490,y:450,width:100},{x:0,y:0,width:1}],loopStartFrame:2,introDuration:200,duration:1e3},throw:{frames:[{x:1145,y:20},{x:1160,y:204},{x:1250,y:204,width:120}],duration:500}},i}return Object(wt.a)(t,e),t}(Si),Ri=(_e=function(e){function t(e){var i;return Object(dt.a)(this,t),i=Object(vt.a)(this,Object(kt.a)(t).call(this,e)),Object(ei.a)(i,"spriteUrl",Xe,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:4,y:8}],duration:400},broken:{frames:[{x:130,y:8},{x:232,y:8},{x:332,y:8},{x:436,y:8},{x:133,y:235},{x:283,y:235}],loopStartFrame:4,introDuration:400,duration:400}},Object(ei.a)(i,"spriteScale",Ke,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",Ve,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",Ie,Object(ai.a)(Object(ai.a)(i))),i.setAnimation("default"),i}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"trigger",value:function(){Object(ni.a)(Object(kt.a)(t.prototype),"trigger",this).call(this),this.setAnimation("broken")}}]),t}(Oi),Xe=Object(ti.a)(_e.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/opening_elevator.png"}}),Ke=Object(ti.a)(_e.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"545px"}}),Ve=Object(ti.a)(_e.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Ie=Object(ti.a)(_e.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),_e),Gi=(Je=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n))),Object(ei.a)(i,"spriteUrl",Ze,Object(ai.a)(Object(ai.a)(i))),i.animationTracks={default:{frames:[{x:565,y:385}],duration:100}},Object(ei.a)(i,"spriteScale",qe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenWidth",$e,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"screenHeight",Qe,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionWidth",Ye,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionHeight",et,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionDepth",tt,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"collisionBottom",it,Object(ai.a)(Object(ai.a)(i))),Object(ei.a)(i,"speed",at,Object(ai.a)(Object(ai.a)(i))),i}return Object(wt.a)(t,e),t}(Ai),Ze=Object(ti.a)(Je.prototype,"spriteUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/gameObjects/enemy.png"}}),qe=Object(ti.a)(Je.prototype,"spriteScale",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"3200px"}}),$e=Object(ti.a)(Je.prototype,"screenWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 110}}),Qe=Object(ti.a)(Je.prototype,"screenHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),Ye=Object(ti.a)(Je.prototype,"collisionWidth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),et=Object(ti.a)(Je.prototype,"collisionHeight",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),tt=Object(ti.a)(Je.prototype,"collisionDepth",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),it=Object(ti.a)(Je.prototype,"collisionBottom",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=Object(ti.a)(Je.prototype,"speed",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Je),Mi=function(e){function t(){var e,i;Object(dt.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=Object(vt.a)(this,(e=Object(kt.a)(t)).call.apply(e,[this].concat(n)))).longRangeAttackChance=.75,i.longRangeAttackTimeout=1500,i.shortAttackRange=[0,10],i.longAttackRange=[25,250],i.projectileType=Gi,i.throwHeight=80,i.leftThrowOffset=-40,i.rightThrowOffset=60,i.animationTracks={walking:{frames:[{x:403,y:25,width:110},{x:520,y:25,width:110},{x:630,y:25,width:110},{x:520,y:25,width:110}],duration:700},attack:{frames:[{x:403,y:25,width:110},{x:420,y:330,width:110}],duration:600},take_damage:{frames:[{x:52,y:560}],duration:1e3},dead:{frames:[{x:140,y:550,width:120}],duration:1e3},explode:{frames:[{x:400,y:460},{x:490,y:450,width:100},{x:0,y:0,width:1}],loopStartFrame:2,introDuration:200,duration:1e3},throw:{frames:[{x:403,y:25,width:110},{x:410,y:195,width:100},{x:520,y:195,width:110}],duration:500}},i}return Object(wt.a)(t,e),t}(Si),Ci=(nt=function e(){Object(dt.a)(this,e),Object(ei.a)(this,"backgroundUrl",ot,this),Object(ei.a)(this,"minZ",rt,this),Object(ei.a)(this,"maxZ",ct,this),this.maxCamPosition=3795,this.startingGameObjects=[{objectType:gi},{objectType:Oi,position:{x:0,y:0,z:0},triggerX:0,enemies:[{position:{x:-80,y:0,z:250},delay:0,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:620,y:0,z:0},triggerX:250,enemies:[{position:{x:-450,y:0,z:250},delay:0,enemyType:Ti},{position:{x:320,y:0,z:150},delay:1e3,enemyType:Ti},{position:{x:320,y:0,z:100},delay:2e3,enemyType:Ti},{position:{x:320,y:0,z:250},delay:5e3,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:880,y:0,z:0},triggerX:510,enemies:[{position:{x:-550,y:0,z:250},delay:0,enemyType:Ti},{position:{x:-550,y:0,z:250},delay:1e3,enemyType:Ti},{position:{x:300,y:0,z:250},delay:2e3,enemyType:Ti},{position:{x:-550,y:0,z:250},delay:5e3,enemyType:Ti}],locksCamera:!0},{objectType:ji,position:{x:1018,y:0,z:283},triggerX:680,enemies:[{position:{x:30,y:0,z:-5},delay:300,enemyType:Ti}]},{objectType:Oi,position:{x:1050,y:0,z:0},triggerX:680,enemies:[{position:{x:-500,y:0,z:200},delay:1e3,enemyType:Ti},{position:{x:500,y:0,z:200},delay:1500,enemyType:Ti},{position:{x:500,y:0,z:250},delay:5e3,enemyType:Ti},{position:{x:500,y:0,z:200},delay:6500,enemyType:Ti},{position:{x:500,y:0,z:100},delay:800,enemyType:Ti},{position:{x:-500,y:0,z:250},delay:11e3,enemyType:Ti},{position:{x:-500,y:0,z:150},delay:12e3,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:1400,y:0,z:200},triggerX:930,enemies:[{position:{x:-100,y:100,z:120},delay:0,enemyType:ki},{position:{x:-120,y:100,z:125},delay:200,enemyType:ki}],respawnEvery:2400},{objectType:Oi,position:{x:1400,y:0,z:0},triggerX:930,enemies:[{position:{x:-500,y:0,z:220},delay:400,enemyType:Ei},{position:{x:-500,y:0,z:80},delay:1400,enemyType:Ei}],locksCamera:!0},{objectType:Oi,position:{x:1550,y:0,z:0},triggerX:1180,enemies:[{position:{x:-500,y:0,z:220},delay:400,enemyType:Ei},{position:{x:-500,y:0,z:80},delay:1400,enemyType:Ei},{position:{x:500,y:0,z:80},delay:3e3,enemyType:Ei}],locksCamera:!0},{objectType:ji,position:{x:1983,y:0,z:283},triggerX:1680,enemies:[{position:{x:30,y:0,z:-5},delay:300,enemyType:Ti}]},{objectType:Oi,position:{x:2050,y:0,z:0},triggerX:1680,enemies:[{position:{x:500,y:0,z:240},delay:1e3,enemyType:Ti},{position:{x:-500,y:0,z:240},delay:2e3,enemyType:Ti},{position:{x:500,y:0,z:150},delay:6e3,enemyType:Ti},{position:{x:500,y:0,z:50},delay:7e3,enemyType:Ti},{position:{x:500,y:0,z:250},delay:11e3,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:2200,y:0,z:0},triggerX:1830,enemies:[{position:{x:400,y:0,z:0},delay:0,enemyType:Ti},{position:{x:-500,y:0,z:200},delay:15e3,enemyType:Ti},{position:{x:-500,y:0,z:240},delay:2500,enemyType:Ti},{position:{x:-500,y:0,z:240},delay:5500,enemyType:Ti},{position:{x:500,y:0,z:10},delay:8500,enemyType:Ti},{position:{x:500,y:0,z:10},delay:11500,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:2700,y:0,z:200},triggerX:2280,enemies:[{position:{x:-100,y:100,z:120},delay:0,enemyType:ki},{position:{x:-120,y:100,z:125},delay:200,enemyType:ki}],respawnEvery:2200},{objectType:Oi,position:{x:2700,y:0,z:0},triggerX:2280,enemies:[{position:{x:-500,y:0,z:220},delay:400,enemyType:Ei},{position:{x:-500,y:0,z:80},delay:1400,enemyType:Ei}],locksCamera:!0},{objectType:Oi,position:{x:2850,y:0,z:0},triggerX:2480,enemies:[{position:{x:400,y:0,z:20},delay:400,enemyType:Ei},{position:{x:-500,y:0,z:240},delay:1400,enemyType:Ei},{position:{x:-500,y:0,z:80},delay:3500,enemyType:Ei},{position:{x:400,y:0,z:240},delay:5e3,enemyType:Ei}],locksCamera:!0},{objectType:ji,position:{x:2946,y:0,z:283},triggerX:2780,enemies:[{position:{x:30,y:0,z:-5},delay:300,enemyType:Ti},{position:{x:500,y:0,z:-25},delay:1e3,enemyType:Ti},{position:{x:500,y:0,z:-25},delay:1500,enemyType:Ti},{position:{x:500,y:0,z:-225},delay:5500,enemyType:Ti},{position:{x:500,y:0,z:-25},delay:7e3,enemyType:Ti}],locksCamera:!0},{objectType:ji,position:{x:3268,y:0,z:283},triggerX:2930,enemies:[{position:{x:30,y:0,z:-5},delay:300,enemyType:Ti},{position:{x:700,y:0,z:-25},delay:1e3,enemyType:Ti},{position:{x:-450,y:0,z:-25},delay:2e3,enemyType:Ti},{position:{x:700,y:0,z:-25},delay:5e3,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:3500,y:0,z:0},triggerX:3130,enemies:[{position:{x:-500,y:0,z:240},delay:0,enemyType:Di},{position:{x:-500,y:0,z:240},delay:500,enemyType:Di},{position:{x:500,y:0,z:240},delay:1e3,enemyType:Di},{position:{x:500,y:0,z:240},delay:4e3,enemyType:Di},{position:{x:500,y:0,z:240},delay:6500,enemyType:Di},{position:{x:500,y:0,z:40},delay:9500,enemyType:Di},{position:{x:-400,y:0,z:240},delay:11e3,enemyType:Di}],locksCamera:!0},{objectType:Ri,position:{x:3594,y:0,z:280},triggerX:3480,enemies:[]},{objectType:Ri,position:{x:3915,y:0,z:280},triggerX:3480,enemies:[{position:{x:30,y:0,z:-5},delay:300,enemyType:Ti},{position:{x:-305,y:0,z:-5},delay:300,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:3950,y:0,z:0},triggerX:3580,enemies:[{position:{x:-500,y:0,z:50},delay:0,enemyType:Ti},{position:{x:400,y:0,z:240},delay:800,enemyType:Ti},{position:{x:400,y:0,z:220},delay:1300,enemyType:Ti},{position:{x:400,y:0,z:240},delay:3e3,enemyType:Ti}],locksCamera:!0},{objectType:Oi,position:{x:4100,y:0,z:0},triggerX:3730,enemies:[{position:{x:-500,y:0,z:50},delay:0,enemyType:Mi},{position:{x:-500,y:0,z:250},delay:250,enemyType:Mi},{position:{x:-500,y:0,z:50},delay:3e3,enemyType:Di},{position:{x:-500,y:0,z:250},delay:4e3,enemyType:Di},{position:{x:-500,y:0,z:50},delay:5e3,enemyType:Di},{position:{x:-500,y:0,z:50},delay:7500,enemyType:Mi},{position:{x:-500,y:0,z:250},delay:8500,enemyType:Mi}]}]},ot=Object(ti.a)(nt.prototype,"backgroundUrl",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/assets/images/levels/level1/background.png"}}),rt=Object(ti.a)(nt.prototype,"minZ",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),ct=Object(ti.a)(nt.prototype,"maxZ",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 260}}),nt),Fi=(st=function(){function e(t){Object(dt.a)(this,e),Object(ei.a)(this,"position",lt,this),this.locked=!1,this.followWidth=370,this.screenRightEdge=610,this.screenLeftEdge=20,this.gameState=t.gameState}return Object(xt.a)(e,[{key:"step",value:function(e){var t=this;this.gameState.players.forEach(function(i){i.position.x>t.position.x+t.followWidth&&!t.locked&&(t.position.x+=Math.max(0,i.velocity.x*e*Hi))}),this.position.x=Math.min(this.gameState.level.maxCamPosition,this.position.x)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}]),e}(),lt=Object(ti.a)(st.prototype,"position",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:0,y:0,z:0}}}),Object(ti.a)(st.prototype,"step",[oi.d],Object.getOwnPropertyDescriptor(st.prototype,"step"),st.prototype),st),Wi=i(22),Ni=Object(Wi.c)(),Li=(pt={},Object(ii.a)(pt,Jt.selina,mi),Object(ii.a)(pt,Jt.grayson,hi),pt),Hi=.06,Ui=(yt=function(){function e(){Object(dt.a)(this,e),Object(ei.a)(this,"gameObjects",ut,this),this.gameObjectsToRemove=[],this.stepGameLoop=this.stepGameLoop.bind(this)}return Object(xt.a)(e,[{key:"addPlayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0};this.addGameObject(e,{position:t,playerNumber:this.players.length})}},{key:"addGameObject",value:function(e,t){this.gameObjects.push(new e(Object(Yt.a)({level:this.level,camera:this.camera,gameState:this},t)))}},{key:"beginGame",value:function(){var e=this;this.gameObjects=[],this.gameObjectsToRemove=[],this.level=new Ci,this.camera=new Fi({gameState:this}),_i.playerSelection.selectedPlayerTypes.forEach(function(t,i){var a=350+100*i,n=100+i%2*100;e.addPlayer(Li[t],{x:a,y:0,z:n})}),this.level.startingGameObjects.forEach(function(t){var i=t.objectType,a=Object(Qt.a)(t,["objectType"]);e.addGameObject(i,a)}),this.startGameLoop()}},{key:"startGameLoop",value:function(){this.lastStepTime=performance.now(),this.stepGameLoop()}},{key:"stopGameLoop",value:function(){cancelAnimationFrame(this._gameLoopRAF)}},{key:"stepGameLoop",value:function(){var e=performance.now(),t=e-this.lastStepTime||0;this.lastStepTime=e,this.gameObjects.forEach(function(e){return e.step(t)}),this.camera.step(t),this.isGameOver()&&this.onGameOver(),this.cleanupRemovedGameObjects(),this._gameLoopRAF=requestAnimationFrame(this.stepGameLoop)}},{key:"removeGameObject",value:function(e){this.gameObjectsToRemove.push(e.id)}},{key:"cleanupRemovedGameObjects",value:function(){var e=this;this.gameObjectsToRemove.forEach(function(t){var i=e.gameObjects.findIndex(function(e){return e.id===t});e.gameObjects.splice(i,1)}),this.gameObjectsToRemove=[]}},{key:"isGameOver",value:function(){return this.players.length>0&&this.players.every(function(e){return e.isDead})}},{key:"onGameOver",value:function(){this.gameOverTimer||(this.gameOverTimer=setTimeout(function(){Ni.push("/")},2500))}},{key:"getGameObjectsInsideBox",value:function(e){return this.gameObjects.filter(function(t){return t.position.x+t.collisionWidth>=e.x.min&&t.position.x<=e.x.max&&t.position.y+t.collisionHeight>=e.y.min&&t.position.y+t.collisionBottom<=e.y.max&&t.position.z>=e.z.min&&t.position.z<=e.z.max})}},{key:"players",get:function(){return this.gameObjects.filter(function(e){return e.type===Lt.Player})}}]),e}(),ut=Object(ti.a)(yt.prototype,"gameObjects",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ti.a)(yt.prototype,"beginGame",[oi.d],Object.getOwnPropertyDescriptor(yt.prototype,"beginGame"),yt.prototype),Object(ti.a)(yt.prototype,"startGameLoop",[oi.d],Object.getOwnPropertyDescriptor(yt.prototype,"startGameLoop"),yt.prototype),Object(ti.a)(yt.prototype,"stopGameLoop",[oi.d],Object.getOwnPropertyDescriptor(yt.prototype,"stopGameLoop"),yt.prototype),Object(ti.a)(yt.prototype,"stepGameLoop",[oi.d],Object.getOwnPropertyDescriptor(yt.prototype,"stepGameLoop"),yt.prototype),Object(ti.a)(yt.prototype,"players",[oi.e],Object.getOwnPropertyDescriptor(yt.prototype,"players"),yt.prototype),yt),Bi=(bt=function(){function e(){Object(dt.a)(this,e),Object(ei.a)(this,"playerCount",mt,this),Object(ei.a)(this,"selectedPlayerTypes",ht,this)}return Object(xt.a)(e,[{key:"setNumberOfPlayers",value:function(e){this.playerCount=e,this.selectedPlayerTypes=[]}},{key:"selectPlayer",value:function(e){this.selectedPlayerTypes.push(e)}},{key:"hasSelectedAllPlayers",get:function(){return this.selectedPlayerTypes.length===this.playerCount}}]),e}(),mt=Object(ti.a)(bt.prototype,"playerCount",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ht=Object(ti.a)(bt.prototype,"selectedPlayerTypes",[oi.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ti.a)(bt.prototype,"setNumberOfPlayers",[oi.d],Object.getOwnPropertyDescriptor(bt.prototype,"setNumberOfPlayers"),bt.prototype),Object(ti.a)(bt.prototype,"selectPlayer",[oi.d],Object.getOwnPropertyDescriptor(bt.prototype,"selectPlayer"),bt.prototype),Object(ti.a)(bt.prototype,"hasSelectedAllPlayers",[oi.e],Object.getOwnPropertyDescriptor(bt.prototype,"hasSelectedAllPlayers"),bt.prototype),bt),_i={gameState:new Ui,playerSelection:new Bi},Xi=function(e){function t(){var e;return Object(dt.a)(this,t),(e=Object(vt.a)(this,Object(kt.a)(t).call(this))).state={randomImg:"http://i.imgflip.com/1bij.jpg",allMemeImgs:[]},e.handleChange=e.handleChange.bind(Object(ai.a)(Object(ai.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(ai.a)(Object(ai.a)(e))),e}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.imgflip.com/get_memes").then(function(e){return e.json()}).then(function(t){var i=t.data.memes;e.setState({allMemeImgs:i})})}},{key:"handleChange",value:function(e){var t=e.target,i=t.name,a=t.value;this.setState(Object(ii.a)({},i,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Math.floor(Math.random()*this.state.allMemeImgs.length),i=this.state.allMemeImgs[t].url;this.setState({randomImg:i})}},{key:"render",value:function(){return jt.a.createElement("div",null,jt.a.createElement("form",{className:"meme-form"},jt.a.createElement("button",{onClick:this.handleSubmit},"Why so serious?")),jt.a.createElement("div",{className:"meme"},jt.a.createElement("img",{src:this.state.randomImg,alt:""})))}}]),t}(jt.a.Component),Ki=i(194),Vi=i(196),Ii=i(193),Ji=(i(189),function(e){function t(){return Object(dt.a)(this,t),Object(vt.a)(this,Object(kt.a)(t).apply(this,arguments))}return Object(wt.a)(t,e),Object(xt.a)(t,[{key:"render",value:function(){return jt.a.createElement("div",{className:"App"},jt.a.createElement(zt.a,_i,jt.a.createElement(Ki.a,null,jt.a.createElement(Vi.a,null,jt.a.createElement(Ii.a,{exact:!0,path:"/",component:It}),jt.a.createElement(Ii.a,{path:"/game",component:Ut}),jt.a.createElement(Ii.a,{path:"/player_select",component:$t}),jt.a.createElement(Ii.a,{path:"/memeapi",component:Xi})))))}}]),t}(Ot.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));ft.a.render(jt.a.createElement(Ji,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,i){e.exports=i(190)},78:function(e,t,i){},79:function(e,t,i){},81:function(e,t,i){},82:function(e,t,i){},83:function(e,t,i){},84:function(e,t,i){},85:function(e,t,i){},89:function(e,t,i){}},[[73,1,2]]]);
//# sourceMappingURL=main.612294c4.chunk.js.map